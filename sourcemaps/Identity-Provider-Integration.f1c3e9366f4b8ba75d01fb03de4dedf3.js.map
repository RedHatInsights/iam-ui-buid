{"version":3,"file":"js/Identity-Provider-Integration.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./src/Components/DisabledPage/disabled-page.js","webpack:///./src/Apps/IdpSelfService/FirstStep/customer-information.tsx","webpack:///./src/Apps/IdpSelfService/SecondStep/oidc-configuration.tsx","webpack:///./src/Apps/IdpSelfService/SecondStep/saml-configuration.tsx","webpack:///./src/Apps/IdpSelfService/ThirdStep/import-from-file.tsx","webpack:///./src/Apps/IdpSelfService/ThirdStep/import-from-url.tsx","webpack:///./src/Apps/IdpSelfService/ThirdStep/import-saml-from-file.tsx","webpack:///./src/Apps/IdpSelfService/ThirdStep/import-saml-from-url.tsx","webpack:///./src/Apps/IdpSelfService/FinalStep/urls-for-user.tsx","webpack:///./src/Apps/IdpSelfService/ValidationStep/test-provider.tsx","webpack:///./src/Apps/IdpSelfService/Configured/idp-field.tsx","webpack:///./src/Apps/IdpSelfService/Configured/configured-idp.tsx","webpack:///./src/Apps/IdpSelfService/IdpNotSetup/idp-not-setup.tsx","webpack:///./src/Apps/IdpSelfService/IdpFlowTemplate/generic-footer.tsx","webpack:///./src/Apps/IdpSelfService/IdpFlowTemplate/submit-footer.tsx","webpack:///./src/Apps/IdpSelfService/IdpFlowTemplate/flow-template.tsx","webpack:///./src/Routes/AuthenticationPolicy/identity-provider-integration.tsx","webpack:///./src/Utils/general-utils.ts"],"sourcesContent":["import './disabled-page.scss'\nimport React from 'react';\nimport {\n    Title,\n    Text\n} from '@patternfly/react-core';\nimport LockIcon from '@patternfly/react-icons/dist/esm/icons/lock-icon';\n\nconst DisabledPage = () => {\n\n    return <div className=\"disabledDiv\">\n        <LockIcon className=\"lockIcon\"/>\n        <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-lg\">This page is temporarily disabled or unavailable at this time</Title>\n        <Text className=\"pf-u-mt-lg\">Please check again at a another time or reach out to Red Hat customer service for additional support</Text>\n    </div>\n}\n\nexport default DisabledPage;\n","// step one of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport React, {useState} from 'react';\nimport { \n    Text,\n    TextInput,\n    Radio,\n    Title,\n    Form,\n    FormGroup,\n    HelperText,\n    HelperTextItem\n} from '@patternfly/react-core';\nimport {processAllInputs} from '../../../Utils/general-utils';\nimport PropTypes from 'prop-types';\n\ninterface Props {\n    resetNextClicked: Function;\n    rootUserChoices: any;\n    rootValidation: any;\n    updateStatus: Function;\n\n}\n\nconst CustomerInformation = ({resetNextClicked, rootUserChoices, rootValidation, updateStatus} : Props) => {\n\n    const [validations, setValidations] = useState({\n        'custName': {\n            inputType: 'GENERAL',\n            status: 'default',\n            message: ''\n        },\n        'protocol': {\n            inputType: 'RADIO',\n            status: 'default',\n            message: ''\n        }\n    });\n\n\n    /**\n     * handle selection needs to update information being used to govern\n     * the applicaton flow as well as the final api update object\n     */\n    const handleSelection = (value: any) => {\n\n        /*\n         * regardless of current state. if the user alters the input clear existing flags. This should also reset\n         * the currently displayed errors\n         */\n        resetNextClicked(false);\n\n        //  update the main data storage object with the new value\n        rootUserChoices.current.selections[value.target.id] = value.target.value;\n\n        /*\n         * update the validation settings. It is expected that the id's used in the validation object matches\n         * the id's used on the elements.\n         */\n        // @ts-ignore\n        const failureTriggered = processAllInputs(rootUserChoices.current.selections, validations, setValidations);\n\n        const failureStore = 'CUST_INFO'\n        rootValidation.current[failureStore] = !failureTriggered;\n\n        if (!failureTriggered && rootUserChoices.current.selections.protocol) {\n            updateStatus(rootUserChoices.current.selections.protocol);\n        }\n\n    }\n\n\n// pull from props.inputTrigger to handle change values\n    return <Form>\n                <Title headingLevel=\"h2\">Customer Information</Title>\n                <Text className=\"pf-u-color-400 pf-u-font-size-sm\">All fields are required</Text>\n                {/* TODO had to remove validated prop. PF5 suggests moving that logic to the text input's helperText, FormHelperText, or HelperTextItem */}\n                <FormGroup\n                    label=\"Identity provider display name\"\n                    onChange={(value) => { handleSelection(value) }}>\n                    <TextInput\n                               type=\"text\" \n                               id=\"custName\"\n                    />\n                    <HelperText>\n                        <HelperTextItem>\n                            Enter a personalized display name for your Identity Provider (IdP). It is important to use unique names for your IdP display name, since multiple Red Hat accounts can be linked to one IdP.\n                        </HelperTextItem>\n                    </HelperText>\n                </FormGroup>\n\n                <FormGroup\n                    onChange={(value) => { handleSelection(value) } }\n                    role=\"radiogroup\"\n                    fieldId=\"authType\"\n                    label=\"Choose identity provider protocol\"\n                    id=\"protocol\">\n                    <Radio name=\"authType\" id=\"protocol\" label=\"OpenID Connect\" value=\"OIDC_CONFIG\"/>\n                    <Radio name=\"authType\" id=\"protocol\" label=\"Saml 2.0\" value=\"SAML_CONFIG\"/>\n                </FormGroup>\n\n            </Form>\n\n}\n\nCustomerInformation.propTypes = {\n    resetNextClicked: PropTypes.func,\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    nextClicked: PropTypes.func,\n    updateStatus: PropTypes.func,\n}\n\nexport default CustomerInformation;\n","// step two, choice 1 of the flow https://miro.com/app/board/uXjVO_x__QE=/\nimport React, {useState} from 'react';\nimport { \n    Text,\n    TextInput,\n    Radio,\n    Form,\n    FormGroup,\n    HelperText,\n    HelperTextItem\n} from '@patternfly/react-core';\nimport {processAllInputs, setStateValue} from '../../../Utils/general-utils';\nimport PropTypes from 'prop-types';\nimport {UserChoices} from '../CommonInterfaces/user-choices'\nimport {InputValidation} from '../CommonInterfaces/input-validation'\nimport {ValidationTemplate} from \"../CommonInterfaces/oidc-validation\";\n\ninterface Props{\n    updateStatus: Function;\n    resetNextClicked: Function;\n    rootValidation: React.MutableRefObject<InputValidation>;\n    rootUserChoices: React.MutableRefObject<UserChoices>;\n}\n\nconst OidcConfiguration = ({updateStatus, resetNextClicked, rootValidation, rootUserChoices}: Props) => {\n\n    const [selections, setSelections] = useState<Object>();\n    const [validations, setValidations] = useState<ValidationTemplate>({\n        'clientId': {\n            inputType: 'GENERAL',\n            status: 'default',\n            message: ''\n        },\n        'clientSecret': {\n            inputType: 'GENERAL',\n            status: 'default',\n            message: ''\n        },\n        'inputMethod': {\n            inputType: 'RADIO',\n            status: 'default',\n            message: ''\n        }\n    });\n\n\n    /**\n     * handle selection needs to update information being used to govern\n     * the applicaton flow as well as the final api update object\n     */\n    const handleSelection = (value: any) => {\n\n        /*\n         * regardless of current state. if the user alters the input clear existing flags. This should also reset\n         * the currently displayed errors\n         */\n        resetNextClicked(false);\n        //  update the main data storage object with the new value\n        rootUserChoices.current.selections[value.target.id] = value.target.value;\n\n        /*\n         * update the validation settings. It is expected that the id's used in the validation object matches\n         * the id's used on the elements.\n         */\n        const failureTriggered = processAllInputs(rootUserChoices.current.selections, validations, setValidations);\n\n        rootValidation.current.OIDC_CONFIG = !failureTriggered;\n\n        if (!failureTriggered && rootUserChoices.current.selections.inputMethod) {\n            updateStatus(rootUserChoices.current.selections.inputMethod);\n        }\n\n    }\n\n    // @ts-ignore\n    return <Form>\n                <Text className=\"pf-u-color-400 pf-u-font-size-sm\">All fields are required</Text>\n                <FormGroup\n                    label=\"Client ID/SP entity ID\"\n                    onChange={(value) => { handleSelection(value) }}\n                >\n                    <TextInput\n                        onChange={(_event, value) => setStateValue(value, \"clientId\", selections, setSelections)}\n                        type=\"text\"\n                        id=\"clientId\"\n                    />\n                    <HelperText>\n                        <HelperTextItem>\n                            The Red Hat client identifier registered within the customer identity provider. Your indentity provider generates this client ID when a Red Hat client is added\n                        </HelperTextItem>\n                    </HelperText>\n                </FormGroup>\n\n                <FormGroup\n                    label=\"Client Secret\"\n                    onChange={(value) => { handleSelection(value) }}>\n                    <TextInput\n                        onChange={(_event, value) => setStateValue(value, \"clientSecret\", selections, setSelections)}\n                        type=\"text\"\n                        id=\"clientSecret\"\n                    />\n                    <HelperText>\n                        <HelperTextItem>\n                            Enter the client secret associated with your client identifier  by your identity provider\n                        </HelperTextItem>\n                    </HelperText>\n                </FormGroup>\n\n                <FormGroup\n                    onChange={(value) => { handleSelection(value) }}\n                    label=\"Load external IDP metadata from a config file or download it from a url\"\n                >\n                    <Radio name=\"inputChoice\" id=\"inputMethod\" label=\"Import from URL\" value=\"IMPORT_FROM_URL\"/>\n                    <Radio name=\"inputChoice\" id=\"inputMethod\" label=\"Import from file\" value=\"IMPORT_FROM_FILE\"/>\n                </FormGroup>\n\n                \n            </Form>\n\n}\n\nOidcConfiguration.propTypes = {\n    resetNextClicked: PropTypes.func,\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    nextClicked: PropTypes.func,\n    updateStatus: PropTypes.func\n}\n\nexport default OidcConfiguration;\n","// step two, choice 2 of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport {\n    Radio,\n    Form,\n    FormGroup\n} from '@patternfly/react-core';\n\nimport React, {useState} from 'react';\n// eslint-disable-next-line no-unused-vars\nimport {setStateValue, processAllInputs} from '../../../Utils/general-utils';\nimport PropTypes from \"prop-types\";\nimport {InputValidation} from \"../CommonInterfaces/input-validation\";\nimport {UserChoices} from \"../CommonInterfaces/user-choices\";\nimport { ValidationTemplate} from \"../CommonInterfaces/oidc-validation\";\n\ninterface Props{\n    updateStatus: Function;\n    resetNextClicked: Function;\n    rootValidation: React.MutableRefObject<InputValidation>;\n    rootUserChoices: React.MutableRefObject<UserChoices>;\n}\n\nconst SamlConfiguration = ({updateStatus, resetNextClicked, rootValidation, rootUserChoices}: Props) => {\n\n\n    const [validations, setValidations] = useState<ValidationTemplate>({\n        'inputMethod': {\n            inputType: 'RADIO',\n            status: 'default',\n            message: ''\n        }\n    });\n\n    const handleSelection = (value: any) => {\n\n        /*\n         * regardless of current state. if the user alters the input clear existing flags. This should also reset\n         * the currently displayed errors\n         */\n        resetNextClicked(false);\n\n        //  update the main data storage object with the new value\n        rootUserChoices.current.selections[value.target.id] = value.target.value;\n\n        /*\n         * update the validation settings. It is expected that the id's used in the validation object matches\n         * the id's used on the elements.\n         */\n        const failureTriggered = processAllInputs(rootUserChoices.current.selections, validations, setValidations);\n\n        rootValidation.current.SAML_CONFIG = !failureTriggered;\n\n        if (!failureTriggered && rootUserChoices.current.selections.inputMethod) {\n            updateStatus(rootUserChoices.current.selections.inputMethod);\n        }\n    }\n\n    return <Form>\n\n                <FormGroup\n                    onChange={(value) => { handleSelection(value) }}\n                    label=\"Load external IDP metadata from a config file or download it from a url\"\n                    isRequired\n                >\n                    <Radio name=\"inputChoice\" id=\"inputMethod\" label=\"Import from URL\" value=\"IMPORT_SAML_FROM_URL\"/>\n                    <Radio name=\"inputChoice\" id=\"inputMethod\" label=\"Import from file\" value=\"IMPORT_SAML_FROM_FILE\"/>\n                </FormGroup>\n            </Form>\n\n}\n\nSamlConfiguration.propTypes = {\n    resetNextClicked: PropTypes.func,\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    nextClicked: PropTypes.func,\n    updateStatus: PropTypes.func\n}\n\nexport default SamlConfiguration;\n","// step three, choice 3 of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport {\n    FileUpload,\n    Form,\n    FormGroup,\n    Title,\n    Text,\n} from '@patternfly/react-core';\nimport React, {useState} from 'react';\nimport xml2js from 'xml2js';\nimport PropTypes from \"prop-types\";\nimport {InputValidation} from \"../CommonInterfaces/input-validation\";\nimport {UserChoices} from \"../CommonInterfaces/user-choices\";\n\ninterface Props {\n    updateStatus: Function;\n    resetNextClicked: Function;\n    rootValidation: React.MutableRefObject<InputValidation>;\n    rootUserChoices: React.MutableRefObject<UserChoices>;\n}\n\nconst ImportFromFile = ({updateStatus, rootValidation, rootUserChoices}: Props) => {\n\n    const [fileData, setFileData] = useState(\"\");\n\n\n    /**\n     *\n     */\n    const handleFileData = (_event: any, data:string) => {\n        setFileData(data);\n        xml2js.parseString(data, (err, result) => {\n            if (err) {\n                console.error(err);\n            }\n            else if (result) {\n                updateStatus(\"FINAL_STEP\");\n                rootUserChoices.current.current.configFileData = result;\n\n                /*\n                 * may need to submit a query at this point to the api to validate that the file chosen is good to go\n                 * alternatively a validation step could be added locally to check for the existence of required fields\n                 */\n                rootValidation.current.IMPORT_FROM_FILE = true;\n            }\n        })\n    }\n\n\n    return <Form>\n                <Title headingLevel=\"h2\">Import from file</Title>\n                <FormGroup label=\"File Upload\" isRequired >\n                    <FileUpload\n                        value={fileData.toString()}\n                        id=\"text-file-with-edits-allowed\"\n                        type=\"text\"\n                        onDataChange={handleFileData}\n                        browseButtonText=\"Upload\"\n                    />\n                </FormGroup>\n                <Text className=\"pf-u-color-400 pf-u-font-size-sm\">An XML formatted file detailing the configuration of your IDP, minimally including the OpenID Connect Identity provider discovery URL</Text>\n            </Form>\n\n}\n\nImportFromFile.propTypes = {\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    updateStatus: PropTypes.func\n}\n\nexport default ImportFromFile;\n","// step three, choice 4 of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport {\n    TextInput,\n    Form,\n    FormGroup,\n    Title,\n    HelperText,\n    HelperTextItem\n} from '@patternfly/react-core';\nimport React, {useState} from 'react';\nimport {processAllInputs} from '../../../Utils/general-utils';\nimport PropTypes from \"prop-types\";\nimport {UserChoices} from \"../CommonInterfaces/user-choices\";\nimport {InputValidation} from \"../CommonInterfaces/input-validation\";\n\ninterface Props{\n    updateStatus: Function;\n    resetNextClicked: Function;\n    rootValidation: React.MutableRefObject<InputValidation>;\n    rootUserChoices: React.MutableRefObject<UserChoices>;\n}\n\nconst ImportFromUrl = ({updateStatus, resetNextClicked, rootValidation, rootUserChoices}: Props) => {\n\n    const [validations, setValidations] = useState({\n        'importURL': {\n            inputType: 'DOMAIN',\n            status: 'default',\n            message: ''\n        },\n    });\n\n    /**\n     * handle selection needs to update information being used to govern\n     * the applicaton flow as well as the final api update object\n     */\n    const handleSelection = (value: React.FormEvent<HTMLInputElement>) => {\n\n        /*\n         * regardless of current state. if the user alters the input clear existing flags. This should also reset\n         * the currently displayed errors\n         */\n        resetNextClicked(false);\n\n        //  update the main data storage object with the new value\n        rootUserChoices.current.selections[value.currentTarget.id] = value.currentTarget.value;\n\n        /*\n         * update the validation settings. It is expected that the id's used in the validation object matches\n         * the id's used on the elements.\n         */\n        const failureTriggered = processAllInputs(rootUserChoices.current.selections, validations, setValidations);\n\n        rootValidation.current.IMPORT_FROM_URL = !failureTriggered;\n\n        if (!failureTriggered) {\n            updateStatus(\"FINAL_STEP\");\n        }\n\n    }\n\n    return <Form>\n                <Title headingLevel=\"h2\">Import from URL</Title>\n                <FormGroup\n                    label=\"URL\">\n                    < TextInput\n                        type=\"text\"\n                        id=\"importURL\"\n                        onChange={(value)=>{handleSelection(value) }}\n                    />\n                    <HelperText>\n                        <HelperTextItem>\n                            import metadata from a remote identity provider discovery descriptor\n                        </HelperTextItem>\n                    </HelperText>\n                </FormGroup>\n            </Form>\n\n}\n\nImportFromUrl.propTypes = {\n    resetNextClicked: PropTypes.func,\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    nextClicked: PropTypes.func,\n    updateStatus: PropTypes.func\n}\n\nexport default ImportFromUrl;\n","// step three, choice 5 of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport {\n    FileUpload,\n    Form,\n    FormGroup, Title, Text\n} from '@patternfly/react-core';\nimport React, {useState} from 'react';\nimport xml2js from \"xml2js\";\nimport PropTypes from 'prop-types';\nimport {InputValidation} from \"../CommonInterfaces/input-validation\";\nimport {UserChoices} from \"../CommonInterfaces/user-choices\";\n\ninterface Props{\n    updateStatus: Function;\n    resetNextClicked: Function;\n    rootValidation: React.MutableRefObject<InputValidation>;\n    rootUserChoices: React.MutableRefObject<UserChoices>;\n}\n\nconst ImportSamlFromFile = ({updateStatus, resetNextClicked, rootValidation, rootUserChoices}: Props) => {\n\n\n    const [fileData, setFileData] = useState(\"\");\n\n    /**\n     *\n     */\n    const handleFileData = (_event: any, data:string) => {\n        setFileData(data);\n        xml2js.parseString(data, (err, result) => {\n            if (err) {\n                console.error(\"failed to parse xml file: \" + err);\n            }\n            else if (result) {\n                updateStatus(\"FINAL_STEP\");\n                rootUserChoices.current.current.configFileData = result;\n\n                rootValidation.current.IMPORT_SAML_FROM_FILE = true;\n            }\n        })\n    }\n\n    return <Form>\n                <Title headingLevel=\"h2\">Import from file</Title>\n                <FormGroup label=\"File Upload\" isRequired >\n                    <FileUpload value={fileData.toString()}\n                    id=\"text-file-with-edits-allowed\"\n                    type=\"text\"\n                    filenamePlaceholder=\"Drag and drop a file or upload one\"\n                    onDataChange={handleFileData}\n                    browseButtonText=\"Upload\"\n                    />\n                </FormGroup>\n                <Text className=\"pf-u-color-400 pf-u-font-size-sm\">A XML formatted file detailing the configuration of your IDP</Text>\n            </Form> \n\n}\n\nImportSamlFromFile.propTypes = {\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    updateStatus: PropTypes.func\n}\n\nexport default ImportSamlFromFile;\n","// step three, choice 6 of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport {\n    TextInput,\n    Form,\n    FormGroup,\n    Title,\n    HelperText,\n    HelperTextItem\n} from '@patternfly/react-core';\nimport React, {useState} from 'react';\nimport {processAllInputs} from '../../../Utils/general-utils';\nimport PropTypes from \"prop-types\";\nimport {InputValidation} from \"../CommonInterfaces/input-validation\";\nimport {UserChoices} from \"../CommonInterfaces/user-choices\";\n\ninterface Props{\n    updateStatus: Function;\n    resetNextClicked: Function;\n    rootValidation: React.MutableRefObject<InputValidation>;\n    rootUserChoices: React.MutableRefObject<UserChoices>;\n}\n\nconst ImportSamlFromUrl = ({updateStatus, resetNextClicked, rootValidation, rootUserChoices}: Props) => {\n\n    const [validations, setValidations] = useState({\n        'importURL': {\n            inputType: 'DOMAIN',\n            status: 'default',\n            message: ''\n        },\n    });\n\n\n    /**\n     * handle selection needs to update information being used to govern\n     * the applicaton flow as well as the final api update object\n     */\n    const handleSelection = (value: React.FormEvent<HTMLInputElement>) => {\n\n        /*\n         * regardless of current state. if the user alters the input clear existing flags. This should also reset\n         * the currently displayed errors\n         */\n        resetNextClicked(false);\n\n        //  update the main data storage objec(value) => { handleSelection(value) }t with the new value\n        rootUserChoices.current.selections[value.currentTarget.id] = value.currentTarget.value;\n\n        /*\n         * update the validation settings. It is expected that the id's used in the validation object matches\n         * the id's used on the elements.\n         */\n        const failureTriggered = processAllInputs(rootUserChoices.current.selections, validations, setValidations);\n\n        rootValidation.current.IMPORT_SAML_FROM_URL = !failureTriggered;\n\n        if (!failureTriggered) {\n            updateStatus(\"FINAL_STEP\");\n        }\n\n    }\n\n    return <Form>\n                <Title headingLevel=\"h2\">Import from URL</Title>\n                <FormGroup\n                    label=\"URL\">\n                    <TextInput\n                        type=\"text\"\n                        id=\"importURL\"\n                        onChange={(value) => { handleSelection(value) }}\n                    />\n                    <HelperText>\n                        <HelperTextItem>\n                            import metadata from a remote identity provider discovery descriptor\n                        </HelperTextItem>\n                    </HelperText>\n                </FormGroup>\n            </Form>\n\n}\n\nImportSamlFromUrl.propTypes = {\n    resetNextClicked: PropTypes.func,\n    rootUserChoices: PropTypes.object,\n    rootValidation: PropTypes.object,\n    nextClicked: PropTypes.func,\n    updateStatus: PropTypes.func\n}\n\nexport default ImportSamlFromUrl;\n","// Final page to display the urls of the flow https://miro.com/app/board/uXjVO_x__QE=/\n\nimport {\n    Form,\n    FormGroup,\n    Title,\n    Text,\n    ClipboardCopy\n} from '@patternfly/react-core';\nimport React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\n\ninterface Props{\n    updateStatus: Function;\n    redirectDomain: string | undefined;\n}\n\nconst ImportSamlFromURL = ({updateStatus, redirectDomain} : Props) => {\n\n    useEffect(() => {\n        updateStatus(\"VALIDATE_STEP\");\n    }, [])\n\n    return <Form>\n                <Title headingLevel=\"h2\">Configure URLs</Title>\n                <Text className=\"pf-u-color-400 pf-u-font-size-sm\">Some Identity Provider Services require additional\n                    configuration when enabling third party single sign on. Please review the following information and\n                    verify that these are filled in where required in your company IDP.</Text>\n                <FormGroup label=\"Identifier (Entity ID)\">\n                    <ClipboardCopy isReadOnly clickTip=\"copied\">\n                        https://sso.redhat.com/auth/realms/redhat-external\n                    </ClipboardCopy>\n                </FormGroup>\n\n                <FormGroup label=\"Sign on URL\">\n                    <ClipboardCopy isReadOnly clickTip=\"copied\">\n                        https://sso.redhat.com/auth/realms/redhat-external/protocol/saml\n                    </ClipboardCopy>\n                </FormGroup>\n\n                <FormGroup label=\"Redirect URL or ACS (Assertion Consumption Service) URL\">\n                    <ClipboardCopy isReadOnly clickTip=\"copied\">\n                        {\"https://sso.redhat.com/auth/realms/redhat-external/broker/\" + { redirectDomain } + \"/endpoint\"}\n                    </ClipboardCopy>\n                </FormGroup>\n\n            </Form>\n\n}\n\nImportSamlFromURL.propTypes = {\n    updateStatus: PropTypes.func,\n    redirectDomain: PropTypes.string\n}\n\nexport default ImportSamlFromURL;\n","// IDP test instructions\n\nimport {\n    Text,\n    Form,\n    List,\n    ListItem,\n    Button,\n    Title\n} from '@patternfly/react-core';\nimport React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\ninterface Props{\n    updateStatus: Function;\n}\n\nconst TestProvider = ({updateStatus}: Props) => {\n\n    useEffect(() => {\n        updateStatus(\"VALIDATESTEP\");\n    }, [])\n\n\n    return <Form>\n        <Title headingLevel=\"h2\">Test your identity provider</Title>\n        <Text className=\"pf-u-color-400 pf-u-font-size-sm\">Test your identity provider integration before enabling it for your entire organization</Text>\n        <List>\n            <ListItem>Click the button to initiate login redirect to your identity provider</ListItem>\n            <ListItem>Log in with your identity provider user your company Single Sign-on credentials</ListItem>\n            <ListItem>You will be redirected back to identity provider integration configuration where you can then enable it for your entire organization</ListItem>\n        </List>\n\n        <Text>If you encounter any errors or are having trouble, contact\n            <Button variant=\"link\" href={\"www.google.com\"} target=\"_blank\" component=\"a\" isInline className=\"pf-u-ml-xs\">\n            CustomerService\n            </Button>\n        </Text>\n    </Form>\n\n}\n\nTestProvider.propTypes = {\n    updateStatus: PropTypes.func\n}\n\nexport default TestProvider;\n","import React, { useState } from 'react';\nimport {Button, Flex, FlexItem, GridItem, Text, TextInput, Title} from \"@patternfly/react-core\";\nimport EditIcon from \"@patternfly/react-icons/dist/esm/icons/edit-icon\";\nimport AcceptIcon from \"@patternfly/react-icons/dist/esm/icons/check-icon\";\nimport CancelIcon from \"@patternfly/react-icons/dist/esm/icons/times-icon\";\nimport PropTypes from \"prop-types\";\n\ninterface Props{\n    idValue: string;\n    title: string;\n    current: string;\n}\n\nconst IdpField = ({idValue, title, current} : Props) => {\n\n    // handles if the use has chosen to edit this field. toggles between the two GridItem's\n    const [editField, toggleEditField] = useState(false);\n    // handles the text input changes\n    const [textValue, updateTextValue] = useState(\"\");\n\n    /**\n     * called by the check button, it needs to submit the data change and re-trigger the toggle state.\n     */\n    const handleAcceptClick = () => {\n        console.log(\"triggered submit value: \" + textValue);\n        toggleEditField(false)\n    }\n\n    return (<div>\n                <GridItem hidden={editField}>\n                    <Title headingLevel=\"h4\">{title}\n                        <Button\n                            variant=\"link\"\n                            onClick={() => { toggleEditField(true) } }\n                            isInline\n                            icon={<EditIcon />}\n                            iconPosition=\"right\"\n                            className=\"pf-u-ml-xs  editIcon\">\n\n                        </Button>\n                    </Title>\n                    <Text id={idValue + \"-current\"}>{current}</Text>\n                </GridItem>\n                <GridItem hidden={!editField}>\n                    <Title headingLevel=\"h4\">{title}</Title>\n                    <Flex>\n                        <FlexItem><TextInput id={idValue} value={textValue} onChange={(_event, update) => { updateTextValue(update) } }></TextInput></FlexItem>\n                        <FlexItem><Button variant=\"link\" onClick={handleAcceptClick} isInline icon={<AcceptIcon />} iconPosition=\"right\" className=\"pf-u-ml-xs  editIcon\"></Button></FlexItem>\n                        <FlexItem>\n                            <Button\n                                variant=\"link\"\n                                onClick={() => { toggleEditField(false) }}\n                                isInline\n                                icon={<CancelIcon />}\n                                iconPosition=\"right\"\n                                className=\"pf-u-ml-xs  editIcon\">\n\n                            </Button>\n                        </FlexItem>\n                    </Flex>\n                </GridItem>\n            </div>\n    )\n}\n\nIdpField.propTypes = {\n    title: PropTypes.string,\n    idValue: PropTypes.string,\n    current: PropTypes.string,\n}\n\nexport default IdpField;\n","import './configured-idp.scss'\nimport React, { useState } from 'react';\nimport {\n    FormGroup,\n    Button,\n    Title,\n    Card,\n    Grid,\n    Modal,\n    ModalVariant,\n    Icon,\n    Flex,\n    FlexItem\n} from '@patternfly/react-core';\n\nimport IdpField from \"./idp-field\";\n\nimport Exclamation from \"@patternfly/react-icons/dist/esm/icons/exclamation-triangle-icon\"\nimport {idpResponseData} from \"../CommonInterfaces/idp-response-types\";\n\nconst ConfiguredIdp = () => {\n\n    // flag to control which values get displayed\n\n    // will use this in the future. suppress linter for now\n    // eslint-disable-next-line no-unused-vars\n    const [currentValues, setCurrentValues] = useState<idpResponseData>({\n        idpAlias: \"\",\n        displayName: \"\",\n        enabled: \"false\"\n    });\n    const [displayConfirmationModal, setModalDisplay] = useState(false);\n\n    /**\n     * Triggered by the confirm button in the popup modal. This will submit the query to enable the third party idp\n     */\n    const onConfirm = () => {\n        console.log(\"Enable IDP\");\n    }\n\n    /**\n     * Triggered by the cancel button in the modal, it will simply drop the modal\n     */\n    const onCancel = () => {\n        setModalDisplay(false);\n    }\n\n    /**\n     * Triggered by the Enable button on the root of this page. it will trigger the confirmation popup.\n     */\n    const onEnable = () => {\n        setModalDisplay(true);\n    }\n\n    /**\n     * Triggered by the delete button on the root page, this button will fire off the query to the api responsible for\n     * removing the existing configuration.\n     */\n    const onDelete = () => {\n        console.log(\"Delete this IDP config\");\n    }\n\n    /**\n     * Custom header used for the modal popup to fulfill target design including icon\n     */\n    const customPopupHeader = (\n        <React.Fragment>\n            <Flex>\n                <FlexItem>\n                    <Icon status=\"warning\"><Exclamation/></Icon>\n                </FlexItem>\n                <FlexItem>\n                    <Title id=\"modal-custom-header-label\" headingLevel=\"h1\">\n                        Enable Identity Provider for your entire organization?\n                    </Title>\n                </FlexItem>\n            </Flex>\n\n        </React.Fragment>\n    )\n\n    return (\n                <Card className=\"configuredCard\" isCompact={false}>\n                    <Modal\n                        variant={ModalVariant.small}\n                        isOpen={displayConfirmationModal}\n                        title=\"Enable Identity Provider for your entire organization?\"\n                        header={customPopupHeader}\n                        aria-labelledby=\"modal-custom-header-label\"\n                        aria-describedby=\"modal-custom-header-description\"\n                        actions={[\n                            <Button key=\"confirm\" onClick={onConfirm}>Confirm</Button>,\n                            <Button key=\"cancel\" variant=\"link\" onClick={onCancel}>Cancel</Button>\n                        ]}\n                    >\n                        Are you sure you wish to enable Third Party SSO for your entire organization?\n                    </Modal>\n                    <Grid\n                        hasGutter\n                        span={12}>\n\n                        {/* Display Name */}\n                        <Grid hasGutter span={6}>\n                            <IdpField idValue={\"displayName\"} title={\"Display Name\"} current={currentValues.displayName} />\n                        </Grid>\n\n\n                        <Grid hasGutter span={6}>\n                            {/* Client Id  */}\n                            <IdpField idValue={\"clientID\"} title={\"Client ID\"} current={currentValues.idpAlias} />\n\n                            {/* Client Secret */}\n                            <IdpField idValue={\"clientSecret\"} title={\"Client Secret\"} current={currentValues.idpAlias} />\n                        </Grid>\n\n                        {/* Logo URL */}\n                        <Grid hasGutter span={6}>\n                            <IdpField idValue={\"logourl\"} title={\"Logo URL\"} current={currentValues.idpAlias}/>\n                        </Grid>\n\n                    </Grid>\n\n                    {/* Action buttons */}\n                    <FormGroup className=\"buttonGroup\">\n                        <Button variant=\"primary\" onClick={onEnable}>Enable</Button>\n                        <Button variant=\"link\" onClick={onDelete}>Delete</Button>\n                    </FormGroup>\n\n                </Card>\n\n    )\n}\n\nexport default ConfiguredIdp;\n","import './idp-not-setup.scss'\nimport React from 'react';\nimport {\n    Title,\n    Text,\n    Button\n} from '@patternfly/react-core';\nimport CubesIcon from '@patternfly/react-icons/dist/esm/icons/cubes-icon';\nimport PropTypes from \"prop-types\";\n\ninterface Props{\n    setupIDP: any\n}\n\nconst IdpNotSetup = ({setupIDP}: Props) => {\n\n    return <div className=\"notSetupDiv\">\n                <CubesIcon className=\"cubesIcon\"/>\n                <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-lg\">Identity provider not setup</Title>\n                <Text className=\"pf-u-mt-md\">You haven&apos;t set up an identity provider for your organization</Text>\n                <Button className=\"pf-u-mt-lg\" variant=\"primary\" onClick={setupIDP}>Set up an identity provider</Button>\n            </div>\n}\n\nIdpNotSetup.propTypes = {\n    setupIDP: PropTypes.func\n}\n\nexport default IdpNotSetup;\n","import React from 'react';\nimport { WizardFooterWrapper, useWizardContext} from '@patternfly/react-core/dist/esm/components/Wizard';\nimport { Button } from '@patternfly/react-core';\n\ninterface Props {\n    valid: boolean;\n    next: Function;\n}\n\nconst GenericFooter = ({valid, next}: Props) => {\n    const { goToNextStep, goToPrevStep } = useWizardContext();\n\n    /**\n     * Governs what happens when the next button gets clicked. Important for allowing the back and forth communication\n     * between the footer element and the actual component being displayed when needing to perform steps such as validation.\n     */\n    const handleNextClick = () => {\n        if (valid) {\n            goToNextStep();\n        }\n        else {\n            next(true);\n        }\n    }\n\n    return (\n        <WizardFooterWrapper>\n            <Button onClick={handleNextClick} disabled={valid}>Next</Button>\n            <Button variant=\"secondary\" onClick={goToPrevStep}>\n                Back\n            </Button>\n        </WizardFooterWrapper>\n    );\n}\n\nexport default GenericFooter;\n","import React from 'react';\nimport {\n\tWizardFooterWrapper /* data-codemods */,\n\tuseWizardContext /* data-codemods */\n} from '@patternfly/react-core/dist/esm/components/Wizard';\nimport { Button } from '@patternfly/react-core';\n\nimport PropTypes from \"prop-types\";\n\ninterface Props{\n    userChoiceData: object;\n}\n\nconst SubmitFooter = ({userChoiceData}: Props) => {\n    const { goToNextStep, goToPrevStep } = useWizardContext();\n    const [isLoading, setIsLoading] = React.useState(false);\n\n    /**\n     * Governs what happens when the next button gets clicked. Important for allowing the back and forth communication\n     * between the footer element and the actual component being displayed when needing to perform steps such as validation.\n     */\n    const handleNextClick = async () => {\n        const stringifySpace = 2;\n        console.log(\"Submitting with this data: \" + JSON.stringify(userChoiceData, null, stringifySpace));\n\n        setIsLoading(true);\n        const timeoutTime = 2000\n        // eslint-disable-next-line no-promise-executor-return\n        await new Promise(resolve => setTimeout(resolve, timeoutTime));\n        setIsLoading(false);\n        goToNextStep();\n    }\n\n    return (\n        <WizardFooterWrapper>\n            <Button onClick={handleNextClick} isLoading={isLoading} >Next</Button>\n            <Button variant=\"secondary\" onClick={goToPrevStep}>\n                Back\n            </Button>\n        </WizardFooterWrapper>\n    );\n}\n\n\nSubmitFooter.propTypes = {\n    userChoiceData: PropTypes.object,\n}\n\nexport default SubmitFooter;\n","import './flow-template.scss'\nimport React, {useState, useRef, useEffect} from 'react';\nimport { Wizard, WizardStep } from '@patternfly/react-core/dist/esm/components/Wizard';\nimport { idpResponseData, oidcResponseData, samlResponseData } from \"../CommonInterfaces/idp-response-types\";\nimport { UserChoices } from '../CommonInterfaces/user-choices'\nimport { InputValidation } from '../CommonInterfaces/input-validation'\n\n\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport CustomerInformation from '../FirstStep/customer-information';\n\nimport OIDCConfig from '../SecondStep/oidc-configuration';\nimport SAMLConfig from '../SecondStep/saml-configuration';\nimport ImportFromFile from '../ThirdStep/import-from-file';\nimport ImportFromUrl from '../ThirdStep/import-from-url';\nimport ImportSamlFromFile from '../ThirdStep/import-saml-from-file';\nimport ImportSamlFromUrl from '../ThirdStep/import-saml-from-url';\nimport URLsForUser from '../FinalStep/urls-for-user';\nimport TestProvider from '../ValidationStep/test-provider';\nimport ConfiguredIdp from '../Configured/configured-idp';\nimport IdpNotSetup from \"../IdpNotSetup/idp-not-setup\";\n\nimport GenericFooter from './generic-footer';\nimport SubmitFooter from './submit-footer';\nimport PropTypes from \"prop-types\";\nimport {getSSOEnvironmentUrl} from \"../../../Utils/general-utils\";\nimport {useChrome} from \"@redhat-cloud-services/frontend-components/useChrome\";\n\ninterface Props {\n    accessToken: string\n}\n\n// eslint-disable-next-line max-statements\nconst FlowTemplate = ({ accessToken }: Props) => {\n\n    /**\n     * TODO\n     *  1) Update environment URLs so that they are dynamic (mirror what 2fa app is doing? do it different?)\n     *      See useChrome() method (what does this output?) - Zach's pref to look into\n     *  2) Review existing mechanisms (are there vars we can rename / delete? etc)\n     *      Is FlowTemplate.propTypes the only/best way to provide access to component vars?\n     *  3) Unit tests / tsx file testing\n     *  4) Disabled / not setup page/case handling\n     *  5) How will validation rules work? Does the FE mirror the rules on the BE or just show messages if validation errors occur? Maybe FE can create an error page that displays such errors in a nice, non-error seeming way\n     */\n        // intended to serve as the main aggregate of data that gets sent to the server\n    const userChoices = useRef<UserChoices>({current: {}, selections: {}});\n\n    // Is the admin's account been configured with an idp. If so display the management screen.\n    // eslint-disable-next-line no-unused-vars\n    const [isConfigured, setIsConfigured] = useState(true);\n    const [isInit, setIsInit] = useState(true);\n    const apiUrl = getSSOEnvironmentUrl(useChrome(), 'apis/organizations/v1/identity-providers');\n\n    useEffect(() => {\n        fetch(apiUrl, {\n            method: 'GET',\n            referrerPolicy: 'no-referrer',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + accessToken\n            }\n        })\n            .then(response => response.json())\n            .then((data: idpResponseData) => {\n                if (data.idpAlias !== null) {\n                    setIsConfigured(true);\n                }\n                //TODO: Parse the data and cast it to either SAML or OIDC Response Data\n            })\n            .catch(error => {\n                console.error('Error: ', error);\n            })\n    }, [])\n\n    // handle the present validation state of the various steps.\n    const fieldsValidated = useRef<InputValidation>({\n        CUST_INFO: false,\n        OIDC_CONFIG: false,\n        SAML_CONFIG: false,\n        IMPORT_FROM_FILE: false,\n        IMPORT_FROM_URL: false,\n        IMPORT_SAML_FROM_FILE: false,\n        IMPORT_SAML_FROM_URL: false\n    })\n\n    /**\n     * This object is intended to keep a map of the current flow state including next state and\n     * previous state when available. \n     */\n    const [flowState, setFlowState] = useState({\n        currentState: \"CUSTOMERINFORMATION\",\n        previousState: \"\",\n        nextState: \"\",\n    })\n\n    /**\n     * seems to be a function required by default for wizard. test at later date to verify. If not then remove. Gets executed\n     * when the wizard isn't otherwise specified what to do.\n     */\n    const closeWizard = () => {\n        console.log(\"close fancy window\");\n    }\n\n    // manages what flow states are to be displayed from within the wizard\n    const [displayed, setDisplayed] = useState({\n        hideCustomerInformation: false,\n        hideOIDC: true,\n        hideSAML: true,\n        hideImportFromURL: true,\n        hideImportFromFile: true,\n        hideFinish: true,\n        hideValidate: true\n    })\n\n    /*\n     * used to communicated between the footer and currently displayed window.\n     * this is currently unused, but I suggest leaving this here until we have come up with a fix for displaying the\n     * error state\n     */\n    // eslint-disable-next-line no-unused-vars\n    const [nextTriggered, setNextTriggered] = useState(false);\n\n    const triggerNextStep = (nextStep :string) => {\n        // Need to pull the current state, run checks, and\n        let newDisplay;\n\n        switch (nextStep) {\n            case \"OIDC_CONFIG\":\n                newDisplay = {...displayed};\n                newDisplay.hideOIDC = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: \"CUSTOMER_INFORMATION\",\n                    nextState: \"\",\n                });\n                break;\n            case \"SAML_CONFIG\":\n                newDisplay = {...displayed};\n                newDisplay.hideSAML = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: \"CUSTOMER_INFORMATION\",\n                    nextState: \"\"\n                });\n                break;\n            case \"IMPORT_FROM_FILE\":\n\n                newDisplay = {...displayed};\n                newDisplay.hideImportFromFile = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: \" OIDC_CONFIG\",\n                    nextState: \"FINAL_STEP\"\n                });\n                break;\n            case \"IMPORT_FROM_URL\":\n                newDisplay = {...displayed};\n                newDisplay.hideImportFromURL = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: \"OIDC_CONFIG\",\n                    nextState: \"FINAL_STEP\"\n                });\n                break;\n            case \"IMPORT_SAML_FROM_FILE\":\n                newDisplay = {...displayed};\n                newDisplay.hideImportFromFile = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: \"SAML_CONFIG\",\n                    nextState: \"FINAL_STEP\"\n                });\n                break;\n            case \"IMPORT_SAML_FROM_URL\":\n                newDisplay = {...displayed};\n                newDisplay.hideImportFromURL = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: \"SAML_CONFIG\",\n                    nextState: \"FINAL_STEP\"\n                });\n                break;\n            case \"FINAL_STEP\":\n                newDisplay = {...displayed};\n                newDisplay.hideFinish = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: flowState.currentState,\n                    nextState: \"VALIDATE_STEP\"\n                });\n                break;\n            case \"VALIDATE_STEP\":\n                newDisplay = {...displayed};\n                newDisplay.hideValidate = false;\n                setDisplayed(newDisplay);\n                setFlowState({\n                    currentState: nextStep,\n                    previousState: flowState.currentState,\n                    nextState: \"\"\n                })\n                break;\n            default:\n                setDisplayed({\n                    hideCustomerInformation: false,\n                    hideOIDC: true,\n                    hideSAML: true,\n                    hideImportFromURL: true,\n                    hideImportFromFile: true,\n                    hideFinish: true,\n                    hideValidate: true,\n                });\n\n        }\n\n    }\n\n    return (\n\n                <div className=\"flowPage\">\n                <PageHeader className=\"wizardHeader\">\n                    <PageHeaderTitle title=\"Identity Provider Integration\" className=\"pf-u-mb-lg\" />\n                    <p> Manage identity provider integration for your organization </p>\n                </PageHeader>\n                <br/>\n\n                    <div className={isConfigured ? '' : 'hiddenPage'}>\n                        <ConfiguredIdp />\n                    </div>\n                    <div className={(!isConfigured && isInit) ? 'initPage' : 'hiddenPage'}>\n                        <IdpNotSetup setupIDP={() => { setIsInit(false) }} />\n                    </div>\n\n                    <div className={(!isConfigured && !isInit) ? '' : 'hiddenPage'}>\n\n                    <Wizard\n                        onClose={closeWizard}\n                        isProgressive\n                    >\n\n\n                        {/* Standard customer config. Every flow requires this */}\n                        <WizardStep\n                            id={'CUSTOMERINFORMATION'}\n                            name={'Customer Information'}\n                            isHidden={displayed.hideCustomerInformation}\n                            footer={\n                                <GenericFooter\n                                    valid={fieldsValidated.current.CUST_INFO}\n                                    next={setNextTriggered}\n                                />\n                            }\n                        >\n\n                            <CustomerInformation\n                                updateStatus={triggerNextStep}\n                                resetNextClicked={setNextTriggered}\n                                rootValidation = {fieldsValidated}\n                                rootUserChoices={userChoices}\n                                />\n                        </WizardStep>\n\n\n                        {/* OIDC Config. Only run through if a customer chooses OIDC configuration */}\n                        <WizardStep\n                            id={'OIDCCONFIG'}\n                            name={'OIDC Configuration'}\n                            isHidden={displayed.hideOIDC}\n                            footer={\n                                <GenericFooter\n                                    valid={fieldsValidated.current.OIDC_CONFIG}\n                                    next={setNextTriggered}\n                                />\n                            }>\n                                <OIDCConfig\n                                    updateStatus={triggerNextStep}\n                                    resetNextClicked={setNextTriggered}\n                                    rootValidation = {fieldsValidated}\n                                    rootUserChoices={userChoices}\n                                />\n                        </WizardStep>\n\n                        <WizardStep\n                            id={'IMPORTFROMFILE'}\n                            name={'Import config from file'}\n                            isHidden={!(!displayed.hideOIDC && !displayed.hideImportFromFile)}>\n                                    <ImportFromFile\n                                        updateStatus={triggerNextStep}\n                                        resetNextClicked={setNextTriggered}\n                                        rootValidation = {fieldsValidated}\n                                        rootUserChoices={userChoices}\n                                    />\n                        </WizardStep>\n\n                        <WizardStep\n                            id={'IMPORTFROMURL'}\n                            name={'Import config from URL'}\n                            isHidden={!(!displayed.hideOIDC && !displayed.hideImportFromURL)}\n                            footer={\n                                <GenericFooter\n                                    valid={fieldsValidated.current.IMPORT_FROM_URL}\n                                    next={setNextTriggered}\n                                />\n                            }>\n                                <ImportFromUrl\n                                    updateStatus={triggerNextStep}\n                                    resetNextClicked={setNextTriggered}\n                                    rootValidation = {fieldsValidated}\n                                    rootUserChoices={userChoices}\n                                />\n                        </WizardStep>\n\n                        {/* SAML Config. Only run through if the customer chooses a SAML configuration */}\n                        <WizardStep\n                            id={'SAMLCONFIG'}\n                            name={'Saml Configuration'}\n                            isHidden={displayed.hideSAML}\n                            footer={\n                                <GenericFooter\n                                    valid={fieldsValidated.current.SAML_CONFIG}\n                                    next={setNextTriggered}\n                                />\n                            }>\n\n                                <SAMLConfig\n                                    updateStatus={triggerNextStep}\n                                    resetNextClicked={setNextTriggered}\n                                    rootValidation = {fieldsValidated}\n                                    rootUserChoices={userChoices}\n                                />\n\n                        </WizardStep>\n\n                        <WizardStep\n                            name={'Import SAML from file'}\n                            id={'IMPORTSAMLFROMFILE'}\n                            isHidden={!(!displayed.hideSAML && !displayed.hideImportFromFile)}\n                            >\n\n                                <ImportSamlFromFile\n                                    updateStatus={triggerNextStep}\n                                    resetNextClicked={setNextTriggered}\n                                    rootValidation = {fieldsValidated}\n                                    rootUserChoices={userChoices}\n                                />\n\n                        </WizardStep>\n\n                        <WizardStep\n                            id={'IMPORTSAMLFROMURL'}\n                            name={'Import SAML from URL'}\n                            isHidden={!(!displayed.hideSAML && !displayed.hideImportFromURL)}\n                            footer={\n                                <GenericFooter\n                                    valid={fieldsValidated.current.IMPORT_SAML_FROM_URL}\n                                    next={setNextTriggered}\n                                />\n                            }>\n\n                                <ImportSamlFromUrl\n                                    updateStatus={triggerNextStep}\n                                    resetNextClicked={setNextTriggered}\n                                    rootValidation = {fieldsValidated}\n                                    rootUserChoices={userChoices}\n                                />\n\n                        </WizardStep>\n\n                        {/* Final steps of the process. again any selection will show the following two steps.*/}\n                        <WizardStep\n                            id={'FINALSTEP'}\n                            name={'Final Steps'}\n                            isHidden={displayed.hideFinish}\n                            footer={\n                                <SubmitFooter\n                                    userChoiceData={userChoices.current.selections}\n                                />\n                            }>\n                            <URLsForUser updateStatus={triggerNextStep} redirectDomain={userChoices.current.orgDomain}/>\n                        </WizardStep>\n\n                        <WizardStep\n                            id={'VALIDATESTEP'}\n                            name={'Test your identity provider'}\n                            isHidden={displayed.hideValidate}\n                            footer={{\n                                nextButtonText: 'Test identity provider integration',\n                                onNext: () => {\n\n                                        const encodedRedirect = encodeURIComponent(\"https://sso.stage.redhat.com/auth/realms/redhat-external/protocol/openid-connect/auth?response_type=code&client_id=account&redirect_uri=https%3A%2F%2Fsso.stage.redhat.com%2Fauth%2Frealms%2Fredhat-external%2Faccount%2Flogin-redirect&state=fd315d76-0154-4eac-bfff-d23dedf3a9cf&login=true&scope=openid&kc_idp_hint=customer-idp-b\");\n                                        // see if we can build this dynamically off of the ingihts.chrome.auth object to not need hardcoding acrossed environments\n                                        const logoutAndForwardURL = \"http://sso.stage.redhat.com/auth/realms/redhat-external/protocol/openid-connect/logout?redirect_uri=\" + encodedRedirect\n\n                                        window.open(logoutAndForwardURL /* userChoices.current.orgDomain*/,\n                                            \"IDPTest\", \"height=\" + window.outerHeight + \",width=\" + window.outerWidth)\n\n                                },\n                                isNextDisabled: false,\n                                isBackDisabled: false\n                            }}\n                        >\n                            <TestProvider updateStatus={triggerNextStep} />\n                        </WizardStep>\n\n                    </Wizard>\n\n                </div>\n                </div>\n\n    )\n}\n\n\nFlowTemplate.propTypes = {\n    accessToken: PropTypes.string\n}\n\nexport default FlowTemplate;\n","import './identity-provider-integration.scss';\nimport React, { useState, useEffect } from 'react';\nimport FlowTemplate from '../../Apps/IdpSelfService/IdpFlowTemplate/flow-template'\nimport DisabledPage from \"../../Components/DisabledPage/disabled-page\";\nimport {isAdminUser} from '../../Utils/general-utils';\nimport {useFlag} from \"@unleash/proxy-client-react\";\nimport {useChrome} from '@redhat-cloud-services/frontend-components/useChrome';\n\n\nconst IdentityProviderIntegration = () => {\n    const chrome = useChrome();\n    let userToken = null;\n    const [currentUser, updateUser] = useState({\n        adminUser: false,\n        selfServiceIDP: <DisabledPage/>\n    })\n    const isSelfServiceIDPEnabled = useFlag('iamconsole.IDPIntegration.enabled');\n\n    useEffect(() => {\n        // eslint-disable-next-line no-undef\n        chrome?.appAction?.('identity-provider-integration');\n        // eslint-disable-next-line no-undef\n        chrome.auth.getToken().then(token => {\n            userToken = token;\n            // if the user is in fact and admin user then render TwoFactorCheckOld\n            if (isAdminUser(userToken!) && isSelfServiceIDPEnabled) {\n                updateUser({\n                    adminUser: true,\n                    selfServiceIDP: <FlowTemplate accessToken={userToken!} />\n                })\n            }\n        })\n    }, []);\n\n    return (\n        <React.Fragment>\n            {currentUser.selfServiceIDP}\n        </React.Fragment>\n    )\n\n}\n\nexport default IdentityProviderIntegration\n","import {\n    ValidationTemplate\n} from \"../Apps/IdpSelfService/CommonInterfaces/oidc-validation\";\nimport useChrome from \"@redhat-cloud-services/frontend-components/useChrome\";\n\nexport function isAdminUser (token :string) {\n    // eslint-disable-next-line no-magic-numbers\n    const base64Url = token.split('.')[1];\n    // eslint-disable-next-line require-unicode-regexp\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = JSON.parse(decodeURIComponent(window.atob(base64).split('')\n        .map(\n            (c) => {\n                // eslint-disable-next-line no-magic-numbers\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }\n        )\n        .join('')));\n    return jsonPayload && jsonPayload.is_org_admin;\n}\n\ninterface Updatable{\n    [key:string]: string\n}\n\n/**\n *\n * @param {*} value\n * @param {*} key\n * @param {*} stateObject\n * @param {*} updateFunction\n */\n// eslint-disable-next-line max-params\nexport function setStateValue (value :string, key :string, stateObject:Object|undefined, updateFunction :Function) {\n\n    const updatedValue :Updatable = {};\n    updatedValue[key] = value;\n    const updated = {\n        ...stateObject,\n        ...updatedValue\n    }\n\n    updateFunction(updated);\n}\n\ninterface VerificationResult {\n    status: string;\n    message: string;\n}\n\n/**\n *\n * @param {String} input value to be checked based on the provided type\n * @param {String} type effectively and enum used to specify the type of check we need to run\n * @param {boolean} required is this a required field\n * @returns String message to be relayed to the user pertaining to the invalid input\n * // success, warning, error, or default\n */\nexport function verifyInput (input:string, type:string, required:boolean) :VerificationResult {\n    if (required && !input) {\n        return {\n            status: \"error\",\n            message: 'This field can not be left empty'\n        };\n    }\n\n    let verified:VerificationResult;\n    let results :boolean;\n\n    switch (type) {\n        case 'GENERAL':\n            // eslint-disable-next-line require-unicode-regexp\n            results = (/^[.@&]?[a-zA-Z0-9 ]+[ !.@&()]?[ a-zA-Z0-9!()]+/).test(input);\n\n\n            verified = {\n                status: results ? 'default' : 'error',\n                message: results ? '' : 'This text is invalid please check for uncommonly used characters'\n            }\n            break;\n        case 'DOMAIN':\n            // eslint-disable-next-line require-unicode-regexp\n            results = (/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/g).test(input)\n            verified = {\n                status: results ? 'default' : 'error',\n                message: results ? '' : 'This field needs to be a valid URL'\n            }\n            break;\n        default:\n            verified = {\n                status: 'default',\n                message: ''\n            }\n    }\n    return verified;\n}\n\ninterface Selections{\n    [key:string]: string;\n}\n\n/**\n * \n * @param {Object} selections state object containing all of the users input data\n * @param {Object} validations validations object pre-set to govern what the inputs are intended to be\n * @param {function} setValidations function used to update active validations.\n * @return {boolean} represents the current pass fail state for the provided validation set\n */\nexport function processAllInputs (choices :Selections, validations :ValidationTemplate, setValidations :Function) {\n    let failureTriggered = false;\n    let update:Selections= {};\n    Object.keys(validations).forEach(validationKey => {\n        const submittedValue = choices &&  choices[validationKey];\n        // @ts-ignorer\n        const submittedType = validations[validationKey].inputType\n\n        const verificationObject: VerificationResult = verifyInput(submittedValue, submittedType, true);\n\n        if (verificationObject.status === 'error') {\n            failureTriggered = true;\n        }\n\n        // @ts-ignore\n        update[validationKey] = {\n            inputType: submittedType,\n            status: verificationObject.status,\n            message: verificationObject.message\n        }\n\n    });\n\n    // @ts-ignore\n    setValidations(update);\n\n    return failureTriggered;\n}\n\nexport const getSSOEnvironmentUrl = (chromeApi: any, apiUrl: string) => {\n    if (chromeApi.getEnvironment() === 'prod') {\n        return \"https://sso.redhat.com/auth/realms/redhat-external/\" + apiUrl;\n    }\n    return \"https://sso.stage.redhat.com/auth/realms/redhat-external/\" + apiUrl;\n}\n"],"names":["className","headingLevel","size","CustomerInformation","resetNextClicked","rootUserChoices","rootValidation","updateStatus","validations","setValidations","useState","inputType","status","message","handleSelection","value","current","selections","target","id","failureTriggered","protocol","Form","Title","Text","FormGroup","label","onChange","TextInput","type","HelperText","HelperTextItem","role","fieldId","Radio","name","propTypes","nextClicked","OidcConfiguration","setSelections","OIDC_CONFIG","inputMethod","_event","SamlConfiguration","SAML_CONFIG","isRequired","ImportFromFile","fileData","setFileData","FileUpload","toString","onDataChange","data","err","result","console","error","configFileData","IMPORT_FROM_FILE","browseButtonText","ImportFromUrl","currentTarget","IMPORT_FROM_URL","ImportSamlFromFile","filenamePlaceholder","IMPORT_SAML_FROM_FILE","ImportSamlFromUrl","IMPORT_SAML_FROM_URL","ImportSamlFromURL","redirectDomain","useEffect","ClipboardCopy","isReadOnly","clickTip","TestProvider","List","ListItem","Button","variant","href","component","isInline","IdpField","idValue","title","editField","toggleEditField","textValue","updateTextValue","GridItem","hidden","onClick","icon","iconPosition","Flex","FlexItem","update","log","currentValues","setCurrentValues","idpAlias","displayName","enabled","displayConfirmationModal","setModalDisplay","customPopupHeader","Icon","I","Card","isCompact","Modal","small","isOpen","header","actions","key","Grid","hasGutter","span","IdpNotSetup","setupIDP","valid","next","goToNextStep","goToPrevStep","WizardFooter","W","disabled","SubmitFooter","userChoiceData","isLoading","setIsLoading","async","JSON","stringify","Promise","resolve","setTimeout","FlowTemplate","accessToken","userChoices","useRef","isConfigured","setIsConfigured","isInit","setIsInit","apiUrl","useChrome","fetch","method","referrerPolicy","headers","then","response","json","catch","fieldsValidated","CUST_INFO","flowState","setFlowState","currentState","previousState","nextState","displayed","setDisplayed","hideCustomerInformation","hideOIDC","hideSAML","hideImportFromURL","hideImportFromFile","hideFinish","hideValidate","nextTriggered","setNextTriggered","triggerNextStep","nextStep","newDisplay","PageHeader","PageHeaderTitle","Wizard","onClose","isProgressive","WizardStep","isHidden","footer","orgDomain","nextButtonText","onNext","logoutAndForwardURL","encodeURIComponent","window","open","outerHeight","outerWidth","isNextDisabled","isBackDisabled","chrome","userToken","currentUser","updateUser","adminUser","selfServiceIDP","isSelfServiceIDPEnabled","useFlag","appAction","auth","getToken","token","isAdminUser","base64","split","replace","jsonPayload","parse","decodeURIComponent","atob","map","c","charCodeAt","slice","join","is_org_admin","setStateValue","stateObject","updateFunction","updatedValue","processAllInputs","choices","Object","keys","forEach","validationKey","submittedValue","submittedType","verificationObject","input","required","verified","results","test","verifyInput","getSSOEnvironmentUrl","chromeApi","getEnvironment"],"sourceRoot":""}