{"version":3,"file":"js/Authentication-Factors.46a0d9941e1161daa452.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/external-link-alt-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/lock-icon.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/outlined-question-circle-icon.js","webpack:///./src/Components/twoFactorCheck/two-factor-check.js","webpack:///./src/Components/disabledPage/disabled-page.js","webpack:///./src/Components/nonAdminUser/non-admin-user.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Dark/DarkContext.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeader.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeaderTitle.js","webpack:///./src/Routes/Authentication-Policy/Authentication-Factors.js","webpack:///./src/Components/utils/general-utils.js","webpack:///./node_modules/classnames/index.js"],"sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const ExternalLinkAltIconConfig = {\n  name: 'ExternalLinkAltIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const ExternalLinkAltIcon = createIcon(ExternalLinkAltIconConfig);\n\nexport default ExternalLinkAltIcon;","import { createIcon } from '../createIcon';\n\nexport const LockIconConfig = {\n  name: 'LockIcon',\n  height: 512,\n  width: 448,\n  svgPath: 'M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const LockIcon = createIcon(LockIconConfig);\n\nexport default LockIcon;","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { createIcon } from '../createIcon';\n\nexport const OutlinedQuestionCircleIconConfig = {\n  name: 'OutlinedQuestionCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const OutlinedQuestionCircleIcon = createIcon(OutlinedQuestionCircleIconConfig);\n\nexport default OutlinedQuestionCircleIcon;","import './two-factor-check.scss';\nimport {isAdminUser} from '../utils/general-utils';\nimport React, { useEffect, useState } from 'react';\nimport { \n    Title,\n    Text,\n    Button,\n    FormGroup,\n    Checkbox,\n    ActionGroup,\n    Popover,\n    PageSection,\n    Form \n} from '@patternfly/react-core';\nimport ExternalLinkSquareAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport QuestionIcon from '@patternfly/react-icons/dist/esm/icons/outlined-question-circle-icon'\nimport { useDispatch } from 'react-redux'\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nvar docLink = \"\";\nvar statusURL = \"http://localhost:8081/auth/realms/redhat-external/apis/organizations/v1/my/authentication-policy\";\nif(insights.chrome.getEnvironment() === 'stage'){\n    statusURL = \"https://sso.stage.redhat.com/auth/realms/redhat-external/apis/organizations/v1/my/authentication-policy\";\n    docLink = \"https://access.stage.redhat.com/documentation/en-us/red_hat_customer_portal/1/html/using_two-factor_authentication/con-ciam-2fa-about_two-factor-authentication\";\n}\nelse if (insights.chrome.getEnvironment() === 'prod'){\n    statusURL = \"https://sso.redhat.com/auth/realms/redhat-external/apis/organizations/v1/my/authentication-policy\";\n    docLink = \"https://access.redhat.com/documentation/en-us/red_hat_customer_portal/1/html/using_two-factor_authentication/con-ciam-2fa-about_two-factor-authentication\"\n}\n\nconst TwoFactorCheck = (props) => {\n    const dispatch = useDispatch();\n\n    // build the state hooks\n    const [checkState,updateCheckState] = useState ({\n        checked: false,\n        changed: false,\n    });\n    const [loadingState, updateLoadingState] = useState ({loading: true});\n\n    const pullCurrentState = () => {\n        // Need to establish the existing state by querying the base endpoint. \n\n        fetch(statusURL,{\n            method: 'GET',\n            referrerPolicy: 'no-referrer',\n            headers:{\n              'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + props.tokenData\n            }\n        })\n        .then(response => response.json())\n        .then(data => {\n            if(data.error){\n                console.error(data.error);\n                FailureAlert('Failed to fetch the current status');\n            }\n            else{\n                /*\n                data expected to resemble\n                {\n                    authenticationFactors: {\n                        otp: {\n                            required: false\n                        }\n                    }\n                }\n                */\n                updateCheckState({\n                    checked: data.authenticationFactors.otp.required,\n                         changed: false\n                });\n                updateLoadingState({\n                    loading: false\n                })\n            }\n        });\n    }\n\n    // equivalent to componentDidMount when provided an empty array as a second param\n    useEffect(() => {pullCurrentState()},[]);\n\n    const toggleCheckBox = () => {\n        updateCheckState({\n            checked: !checkState.checked,\n            changed: true\n        })\n    }\n\n    const SuccessAlert = () => {\n        dispatch(\n          addNotification({\n            variant: 'success',\n            description: 'Authentication policy settings saved',\n            title: \"Success\"\n          })\n        );\n      };\n\n    const FailureAlert = (er) => {\n        dispatch(\n            addNotification({\n              variant: 'danger',\n              description: er,\n              title: 'Error'\n            })\n        );\n    };\n      \n\n    // following the api: https://docs.google.com/document/d/1kj0ZTwFx2-vmUYogW6Iz7d4DzQ-U1r8DmiQV1qWTPTA/edit\n    const updateStatus = (event) => {\n        let payload = {\"authenticationFactors\" : {\"otp\": {\"required\": false}}};\n        checkState.checked? payload.authenticationFactors.otp.required=true:payload.authenticationFactors.otp.required=false;\n        insights.chrome.auth.getToken().then(token =>{\n            fetch(statusURL,{\n              method: 'POST',\n              referrerPolicy: 'no-referrer',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n              },\n              body: JSON.stringify(payload)\n          }).then(response => response.json())\n            .then(data =>  {\n\n                if(data.error){\n                    console.error(data.error);\n                    FailureAlert(data.error);\n                }\n\n                updateCheckState({\n                    checked: data.authenticationFactors.otp.required,\n                    changed: false\n                });\n\n                SuccessAlert();\n            });\n          });\n    }\n  \n    return <PageSection>\n                <Form>\n                    <div>\n                        <Title headingLevel=\"h2\" size=\"xl\">Organizational two-factor authentication</Title>\n                            \n                        <Text className=\"primaryTextBox pf-u-mt-md\">\n                            Enable organizational two-factor authentication to require all users to use a password and a \n                            one-time code to log in. When enabled, each user in your organization must install an authenticator application on \n                            a compatible mobile device in order to log in. \n                            <Button variant=\"link\" href={docLink} target=\"_blank\" component=\"a\" isInline icon={<ExternalLinkSquareAltIcon />} iconPosition=\"right\" className=\"pf-u-ml-xs\">\n                                Learn more about two-factor authentication\n                            </Button>\n                        </Text>\n                            \n                        <FormGroup className=\"pf-u-mt-md\">\n                            <Checkbox onChange={toggleCheckBox} label=\"Enable two-factor authentication for your organization\" id=\"confirmed\" className=\"twofaCheck\" isChecked={checkState.checked}></Checkbox>\n                            <Button id=\"infoIcon\" variant=\"link\"  component=\"span\" isInline className=\"questionIcon pf-u-ml-xs\" icon={<QuestionIcon/>}></Button>\n                            <Popover\n                            aria-label=\"Advanced popover usages example\"\n                            position={\"right\"}\n                            hideOnOutsideClick={true}\n                            enableFlip={true}\n                            appendTo={() => document.body}\n                            maxWidth={\"18rem\"}\n                            minWidth={\"2rem\"}\n                            bodyContent={\n                                <div>\n                                    Users will be required to set up two-factor authentication the next time they attempt to log in.\n                                </div>\n                            }\n                            reference={() => document.getElementById(\"infoIcon\")}\n                            className=\"pf-u-text-align-center\"\n                            ></Popover>\n                        </FormGroup>\n                            \n                        <ActionGroup className=\"pf-u-mt-3xl\">\n                            <Button onClick={updateStatus} isDisabled={loadingState.loading || !checkState.changed}>Save</Button>\n                            <Button onClick={pullCurrentState} variant=\"link\" isInline className=\"pf-u-ml-lg\">Cancel</Button>\n                        </ActionGroup>\n                    </div>\n                </Form>\n            </PageSection>\n\n    \n}\n\n\nexport default TwoFactorCheck;\n","import './disabled-page.scss'\nimport React from 'react';\nimport {\n    Title,\n    Text\n} from '@patternfly/react-core';\nimport LockIcon from '@patternfly/react-icons/dist/esm/icons/lock-icon';\n\nconst DisabledPage = (props) => {\n\n    return <div className=\"disabledDiv\">\n        <LockIcon className=\"lockIcon\"/>\n        <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-lg\">This page is temporarily disabled or unavailable at this time</Title>\n        <Text className=\"pf-u-mt-lg\">Please check again at a another time or reach out to Red Hat customer service for additional support</Text>\n    </div>\n}\n\nexport default DisabledPage;\n","\nimport './non-admin-user.scss'\nimport React from 'react';\nimport { \n    Title,\n    Text,\n    Button\n} from '@patternfly/react-core';\nimport LockIcon from '@patternfly/react-icons/dist/esm/icons/lock-icon';\n\nconst NonAdminUser = (props) => {\n\n    return <div className=\"nonAdminDiv\">\n                <LockIcon className=\"lockIcon\"/>\n                <Title headingLevel=\"h2\" size=\"xl\" className=\"pf-u-mt-lg\">You do not have access to Authentication Factors</Title>\n                <Text className=\"pf-u-mt-lg\">Contact your organization administrator(s) for more information, or visit My User Access to learn more about your permissions.</Text>\n                <Button className=\"pf-u-mt-lg\">Go to landing page</Button>\n           </div>\n}\n\nexport default NonAdminUser;\n","import React from 'react';\nvar DarkContext = React.createContext('light');\nexport default DarkContext;\n//# sourceMappingURL=DarkContext.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport classNames from 'classnames';\nimport { DarkContext } from '../Dark';\nimport '../PageHeader/page-header.css';\nvar PageHeader = function (_a) {\n    var className = _a.className, children = _a.children, props = __rest(_a, [\"className\", \"children\"]);\n    var pageHeaderClasses = classNames(className, 'pf-l-page-header', 'pf-c-page-header', 'pf-l-page__main-section', 'pf-c-page__main-section');\n    return (_jsx(DarkContext.Consumer, { children: function (theme) {\n            var _a, _b;\n            if (theme === void 0) { theme = 'light'; }\n            var themeClasses = classNames((_a = {}, _a[\"pf-m-\".concat(theme, \"-200\")] = theme === 'dark', _a), (_b = {}, _b[\"pf-m-light\"] = theme === 'light', _b));\n            return (_jsx(\"section\", __assign({}, props, { className: \"\".concat(pageHeaderClasses, \" \").concat(themeClasses), \"widget-type\": \"InsightsPageHeader\" }, { children: children })));\n        } }));\n};\nexport default PageHeader;\n//# sourceMappingURL=PageHeader.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport classNames from 'classnames';\nimport { Title } from '@patternfly/react-core';\nvar PageHeaderTitle = function (_a) {\n    var className = _a.className, title = _a.title;\n    var pageHeaderTitleClasses = classNames(className);\n    return (_jsx(Title, __assign({ headingLevel: \"h1\", size: \"2xl\", className: pageHeaderTitleClasses, \"widget-type\": \"InsightsPageHeaderTitle\" }, { children: title })));\n};\nexport default PageHeaderTitle;\n//# sourceMappingURL=PageHeaderTitle.js.map","import React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {\n  Divider\n  } from '@patternfly/react-core'\nimport {useFlag} from '@unleash/proxy-client-react';\nimport TwoFactorCheck from '../../Components/twoFactorCheck/two-factor-check';\nimport DisabledPage from \"../../Components/disabledPage/disabled-page\";\nimport NonAdminUser from '../../Components/nonAdminUser/non-admin-user';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\n\n\nconst targetAddress = \"http://localhost:8081/auth/realms/redhat-external/apis/organization/v1/my/two-factor\";\n\n\nimport './Authentication-Factors.scss';\nimport { isAdminUser } from '../../Components/utils/general-utils';\n\n\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\nconst AuthFactors = () => {\n  var userToken = null;\n  const [currentUser, updateUser] = useState({\n    adminUser: false,\n    twofadisplay: <NonAdminUser/>\n  })\n  var is2FAEnabled = useFlag('iamconsole.authfactors.enabled');\n\n\n  useEffect(() => {\n    insights?.chrome?.appAction?.('authentication-factors');\n    insights.chrome.auth.getToken().then(token => {\n      userToken = token;\n      // if the user is in fact and admin user then render TwoFactorCheck\n      if(isAdminUser(userToken) && is2FAEnabled){\n        updateUser({\n          adminUser: true,\n          twofadisplay: <TwoFactorCheck tokenData={userToken}/>\n        })\n      }\n\n      // check to see if 2fa feature flag is set. if not then render the proper error page\n      if (!is2FAEnabled) {\n        updateUser({\n          adminUser: false,\n          twofadisplay: <DisabledPage/>\n        })\n      }\n\n    })\n  }, []);\n\n\n  return (\n    <React.Fragment>\n\n      {currentUser.adminUser === true && \n      <div>\n        <PageHeader>\n          <PageHeaderTitle title=\"Authentication Factors\" className=\"pf-u-mb-lg\" />\n          <p> Manage authentication factors for your organization. </p>\n        </PageHeader>\n        <Divider/>\n      </div>\n      }\n\n      {currentUser.twofadisplay}\n\n  \n    </React.Fragment>\n  );\n  \n\n  \n};\n\nexport default AuthFactors;\n","\n\n\n\n    \nexport function isAdminUser (token){\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = JSON.parse(decodeURIComponent(window.atob(base64).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join('')));\n    return jsonPayload && jsonPayload.is_org_admin;\n}\n\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["name","height","width","svgPath","yOffset","xOffset","LockIcon","_slicedToArray","arr","i","Array","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","docLink","statusURL","insights","chrome","getEnvironment","props","dispatch","useDispatch","useState","checked","changed","checkState","updateCheckState","loading","loadingState","updateLoadingState","pullCurrentState","fetch","method","referrerPolicy","headers","tokenData","then","response","json","data","error","console","FailureAlert","authenticationFactors","otp","required","useEffect","er","addNotification","variant","description","title","PageSection","Form","Title","headingLevel","size","Text","className","Button","href","target","component","isInline","icon","iconPosition","FormGroup","Checkbox","onChange","label","id","isChecked","Popover","position","hideOnOutsideClick","enableFlip","appendTo","document","body","maxWidth","minWidth","bodyContent","reference","getElementById","ActionGroup","onClick","event","payload","auth","getToken","token","JSON","stringify","isDisabled","__assign","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","apply","this","_a","children","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","pageHeaderClasses","theme","_b","themeClasses","concat","pageHeaderTitleClasses","userToken","adminUser","twofadisplay","currentUser","updateUser","is2FAEnabled","useFlag","appAction","base64","split","replace","jsonPayload","parse","decodeURIComponent","window","atob","map","c","charCodeAt","toString","slice","join","is_org_admin","isAdminUser","Divider","hasOwn","classNames","classes","arg","argType","inner","key","module","exports","default"],"sourceRoot":""}