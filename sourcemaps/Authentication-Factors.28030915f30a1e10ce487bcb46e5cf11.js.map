{"version":3,"file":"js/Authentication-Factors.1656619998242.06c580b297e7d7c6b5ea.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/external-link-alt-icon.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Dark/DarkContext.js","webpack:///./node_modules/@patternfly/react-icons/dist/esm/icons/outlined-question-circle-icon.js","webpack:///./src/Components/twoFactorCheck/two-factor-check.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeader.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/PageHeader/PageHeaderTitle.js","webpack:///./src/Routes/Authentication-Policy/Authentication-Factors.js","webpack:///./node_modules/classnames/index.js"],"sourcesContent":["import { createIcon } from '../createIcon';\n\nexport const ExternalLinkAltIconConfig = {\n  name: 'ExternalLinkAltIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const ExternalLinkAltIcon = createIcon(ExternalLinkAltIconConfig);\n\nexport default ExternalLinkAltIcon;","import React from 'react';\nvar DarkContext = React.createContext('light');\nexport default DarkContext;\n//# sourceMappingURL=DarkContext.js.map","import { createIcon } from '../createIcon';\n\nexport const OutlinedQuestionCircleIconConfig = {\n  name: 'OutlinedQuestionCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const OutlinedQuestionCircleIcon = createIcon(OutlinedQuestionCircleIconConfig);\n\nexport default OutlinedQuestionCircleIcon;","import './two-factor-check.scss';\nimport React from 'react';\nimport { \n    Title,\n    Text,\n    Button,\n    FormGroup,\n    Checkbox,\n    ActionGroup \n} from '@patternfly/react-core';\nimport ExternalLinkSquareAltIcon from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport QuestionIcon from '@patternfly/react-icons/dist/esm/icons/outlined-question-circle-icon'\n\nvar statusURL = \"http://localhost:8081/auth/realms/redhat-external/apis/organization/v1/my/two-factor\";\nif(insights.chrome.isBeta()){\n    statusURL = \"https://sso.stage.redhat.com/auth/realms/redhat-external/apis/organization/v1/my/two-factor\";\n}\nelse if (insights.chrome.isProd()){\n    statusURL = \"https://sso.redhat.com/auth/realms/redhat-external/apis/organization/v1/my/two-factor\";\n}\nconst checkEndpoint = statusURL + \"/enforce\";\nconst uncheckEndpoint = statusURL + \"/unenforce\";\n\nclass TwoFactorCheck extends React.Component{\n\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            checked: false,\n            loading: true,\n            changed: false\n        }\n    }\n\n    componentDidMount () {\n        // Need to establish the existing state by querying the base endpoint. \n        insights.chrome.auth.getToken().then(token =>{\n            fetch(statusURL,{\n              method: 'GET',\n              referrerPolicy: 'no-referrer',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n              }\n          }).then(response => response.json())\n            .then(data => this.setState({\n                checked: data.enforced,\n                loading: false\n            }));\n          });\n    }\n\n    updateStatus = (event) => {\n        let targetURL;\n        this.state.checked? targetURL=checkEndpoint:targetURL=uncheckEndpoint;\n        insights.chrome.auth.getToken().then(token =>{\n            fetch(targetURL,{\n              method: 'POST',\n              referrerPolicy: 'no-referrer',\n              headers:{\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n              }\n          }).then(response => response.json())\n            .then(data => this.setState({\n                checked: data.enforced,\n                loading: false,\n                changed: false\n            }));\n          });\n    }\n\n    toggleCheckBox = () => {\n        this.setState({\n            checked: !this.state.checked,\n            changed: true\n        })\n    }\n\n    learnMoreLink(){\n        window.location.href = \"https://access.redhat.com/documentation/en-us/red_hat_customer_portal/1/html/using_two-factor_authentication/con-ciam-2fa-about_two-factor-authentication\";\n    }\n\n    render () {\n        return(\n            <div>\n                <Title headingLevel=\"h2\" size=\"xl\">Organizational two-factor authentication</Title>\n                \n                <Text className=\"primaryTextBox pf-u-mt-md\">\n                    Enabling two-factor authentication will require all users in your \n                    organization to use their password plus a one-time code to log in to their account. \n                    In order to generate one-time codes, \n                    all users must be able to add an authenticator application to their mobile device. \n                    <Button onClick={this.learnMoreLink} variant=\"link\" component=\"span\" isInline icon={<ExternalLinkSquareAltIcon />} iconPosition=\"right\">\n                        Learn more about two-factor authentication\n                    </Button>\n                </Text>\n                \n                <FormGroup className=\"pf-u-mt-md\">\n                    <Checkbox onClick={this.toggleCheckBox} label=\"Require two-factor authentication for your organization\" id=\"confirmed\" className=\"twofaCheck\" isChecked={this.state.checked}></Checkbox>\n                    <Button variant=\"link\" component=\"span\" isInline className=\"questionIcon pf-u-ml-xs\" icon={<QuestionIcon/>}></Button>\n                </FormGroup>\n                \n                <ActionGroup>\n                    <Button onClick={this.updateStatus} isDisabled={this.state.loading || !this.state.changed}>Save</Button>\n                    <Button variant=\"link\" isInline className=\"pf-u-ml-lg\">Cancel</Button>\n                </ActionGroup>\n            </div>\n        );\n    }\n    \n}\nexport default TwoFactorCheck;","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport classNames from 'classnames';\nimport { DarkContext } from '../Dark';\nimport './page-header.css';\nvar PageHeader = function (_a) {\n    var className = _a.className, children = _a.children, props = __rest(_a, [\"className\", \"children\"]);\n    var pageHeaderClasses = classNames(className, 'pf-l-page-header', 'pf-c-page-header', 'pf-l-page__main-section', 'pf-c-page__main-section');\n    return (React.createElement(DarkContext.Consumer, null, function (theme) {\n        var _a, _b;\n        if (theme === void 0) { theme = 'light'; }\n        var themeClasses = classNames((_a = {}, _a[\"pf-m-\".concat(theme, \"-200\")] = theme === 'dark', _a), (_b = {}, _b[\"pf-m-light\"] = theme === 'light', _b));\n        return (React.createElement(\"section\", __assign({}, props, { className: \"\".concat(pageHeaderClasses, \" \").concat(themeClasses), \"widget-type\": 'InsightsPageHeader' }), children));\n    }));\n};\nexport default PageHeader;\n//# sourceMappingURL=PageHeader.js.map","import React from 'react';\nimport classNames from 'classnames';\nimport { Title } from '@patternfly/react-core';\nvar PageHeaderTitle = function (_a) {\n    var className = _a.className, title = _a.title;\n    var pageHeaderTitleClasses = classNames(className);\n    return (React.createElement(Title, { headingLevel: \"h1\", size: '2xl', className: pageHeaderTitleClasses, \"widget-type\": 'InsightsPageHeaderTitle' }, title));\n};\nexport default PageHeaderTitle;\n//# sourceMappingURL=PageHeaderTitle.js.map","import React, { Suspense, lazy, useEffect } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport {\n  Form,\n  PageSection,\n  Divider\n  } from '@patternfly/react-core'\nimport TwoFactorCheck from '../../Components/twoFactorCheck/two-factor-check';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\n\nconst targetAddress = \"http://localhost:8081/auth/realms/redhat-external/apis/organization/v1/my/two-factor\";\n\n\nimport './Authentication-Factors.scss';\nimport { checkPropTypes } from 'prop-types';\n\n/**\n * A smart component that handles all the api calls and data needed by the dumb components.\n * Smart components are usually classes.\n *\n * https://reactjs.org/docs/components-and-props.html\n * https://medium.com/@thejasonfile/dumb-components-and-smart-components-e7b33a698d43\n */\nconst AuthFactors = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    insights?.chrome?.appAction?.('sample-page');\n  }, []);\n  \n\n  return (\n    <React.Fragment>\n      \n      <PageHeader>\n        <PageHeaderTitle title=\"Authentication Factors\" className=\"pf-u-mb-lg\" />\n        <p> Manage authentication factors for your organization </p>\n      </PageHeader>\n      <Divider/>\n      <PageSection>\n        <Form>\n          <TwoFactorCheck/>\n        </Form>\n      </PageSection>\n\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(AuthFactors);\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["name","height","width","svgPath","yOffset","xOffset","statusURL","insights","chrome","isBeta","isProd","checkEndpoint","uncheckEndpoint","TwoFactorCheck","props","event","targetURL","state","checked","auth","getToken","then","token","fetch","method","referrerPolicy","headers","response","json","data","setState","enforced","loading","changed","window","location","href","Title","headingLevel","size","Text","className","Button","onClick","this","learnMoreLink","variant","component","isInline","icon","iconPosition","FormGroup","Checkbox","toggleCheckBox","label","id","isChecked","ActionGroup","updateStatus","isDisabled","React","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","_a","children","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","pageHeaderClasses","DarkContext","theme","_b","themeClasses","concat","title","pageHeaderTitleClasses","withRouter","useDispatch","useEffect","appAction","Divider","PageSection","Form","hasOwn","classNames","classes","arg","argType","push","Array","isArray","inner","toString","key","join","module","exports","default"],"sourceRoot":""}