(self.webpackChunkiam_console=self.webpackChunkiam_console||[]).push([[746],{1279:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(2950),a=n.n(r),o=n(154),i=n(9332);const l=function(e){return a().createElement("div",{className:"disabledDiv"},a().createElement(i.ZP,{className:"lockIcon"}),a().createElement(o.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-lg"},"This page is temporarily disabled or unavailable at this time"),a().createElement(o.Text,{className:"pf-u-mt-lg"},"Please check again at a another time or reach out to Red Hat customer service for additional support"))}},8264:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(2950),a=n.n(r),o=n(154),i=n(9332);const l=function(e){return a().createElement("div",{className:"nonAdminDiv"},a().createElement(i.ZP,{className:"lockIcon"}),a().createElement(o.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-lg"},"You do not have access to Authentication Factors"),a().createElement(o.Text,{className:"pf-u-mt-lg"},"Contact your organization administrator(s) for more information, or visit My User Access to learn more about your permissions."),a().createElement(o.Button,{className:"pf-u-mt-lg"},"Go to landing page"))}},6599:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(885),a=n(2950),o=n.n(a),i=n(154),l=n(9225),c=n(1290),s=n(6113),u=n(3215),d="",m="http://localhost:8081/auth/realms/redhat-external/apis/organizations/v1/my/authentication-policy";"stage"===insights.chrome.getEnvironment()?(m="https://sso.stage.redhat.com/auth/realms/redhat-external/apis/organizations/v1/my/authentication-policy",d="https://access.stage.redhat.com/documentation/en-us/red_hat_customer_portal/1/html/using_two-factor_authentication/con-ciam-2fa-about_two-factor-authentication"):"prod"===insights.chrome.getEnvironment()&&(m="https://sso.redhat.com/auth/realms/redhat-external/apis/organizations/v1/my/authentication-policy",d="https://access.redhat.com/documentation/en-us/red_hat_customer_portal/1/html/using_two-factor_authentication/con-ciam-2fa-about_two-factor-authentication");const p=function(e){var t=(0,s.I0)(),n=(0,a.useState)({checked:!1,changed:!1}),p=(0,r.Z)(n,2),h=p[0],f=p[1],E=(0,a.useState)({loading:!0}),g=(0,r.Z)(E,2),I=g[0],v=g[1],S=function(){fetch(m,{method:"GET",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.tokenData}}).then((function(e){return e.json()})).then((function(e){e.error?(console.error(e.error),C("Failed to fetch the current status")):(f({checked:e.authenticationFactors.otp.required,changed:!1}),v({loading:!1}))}))};(0,a.useEffect)((function(){S()}),[]);var C=function(e){t((0,u.wN)({variant:"danger",description:e,title:"Error"}))};return o().createElement(i.PageSection,null,o().createElement(i.Form,null,o().createElement("div",null,o().createElement(i.Title,{headingLevel:"h2",size:"xl"},"Organizational two-factor authentication"),o().createElement(i.Text,{className:"primaryTextBox pf-u-mt-md"},"Enable organizational two-factor authentication to require all users to use a password and a one-time code to log in. When enabled, each user in your organization must install an authenticator application on a compatible mobile device in order to log in.",o().createElement(i.Button,{variant:"link",href:d,target:"_blank",component:"a",isInline:!0,icon:o().createElement(l.ZP,null),iconPosition:"right",className:"pf-u-ml-xs"},"Learn more about two-factor authentication")),o().createElement(i.FormGroup,{className:"pf-u-mt-md"},o().createElement(i.Checkbox,{onChange:function(){f({checked:!h.checked,changed:!0})},label:"Enable two-factor authentication for your organization",id:"confirmed",className:"twofaCheck",isChecked:h.checked}),o().createElement(i.Button,{id:"infoIcon",variant:"link",component:"span",isInline:!0,className:"questionIcon pf-u-ml-xs",icon:o().createElement(c.ZP,null)}),o().createElement(i.Popover,{"aria-label":"Advanced popover usages example",position:"right",hideOnOutsideClick:!0,enableFlip:!0,appendTo:function(){return document.body},maxWidth:"18rem",minWidth:"2rem",bodyContent:o().createElement("div",null,"Users will be required to set up two-factor authentication the next time they attempt to log in."),reference:function(){return document.getElementById("infoIcon")},className:"pf-u-text-align-center"})),o().createElement(i.ActionGroup,{className:"pf-u-mt-3xl"},o().createElement(i.Button,{onClick:function(e){var n={authenticationFactors:{otp:{required:!1}}};h.checked?n.authenticationFactors.otp.required=!0:n.authenticationFactors.otp.required=!1,insights.chrome.auth.getToken().then((function(e){fetch(m,{method:"POST",referrerPolicy:"no-referrer",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.error&&(console.error(e.error),C(e.error)),f({checked:e.authenticationFactors.otp.required,changed:!1}),t((0,u.wN)({variant:"success",description:"Authentication policy settings saved",title:"Success"}))}))}))},isDisabled:I.loading||!h.changed},"Save"),o().createElement(i.Button,{onClick:S,variant:"link",isInline:!0,className:"pf-u-ml-lg"},"Cancel")))))}},4747:(e,t,n)=>{"use strict";n.d(t,{AS:()=>c,VN:()=>i,Xj:()=>l});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=JSON.parse(decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")));return n&&n.is_org_admin}function l(e,t,n,r){var a={};a[t]=e,r(o(o({},n),a))}function c(e,t,n){var r=!1,a={};return Object.keys(t).forEach((function(n){var o=e&&e[n],i=t[n].inputType,l=function(e,t,n){if(!e)return{status:"error",message:"This field can not be left empty"};var r={},a="";switch(t){case"GENERAL":r={status:(a=/^[.@&]?[a-zA-Z0-9 ]+[ !.@&()]?[ a-zA-Z0-9!()]+/.test(e))?"default":"error",message:a?"":"This text is invalid please check for uncommonly used characters"};break;case"DOMAIN":r={status:(a=/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/g.test(e))?"default":"error",message:a?"":"This field needs to be a valid URL"};break;default:r={status:"default",message:""}}return r}(o,i);"error"===l.status&&(r=!0),a[n]={inputType:i,status:l.status,message:l.message}})),n(a),r}},1585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var r=n(885),a=n(2950),o=n.n(a),i=n(4942),l=n(154),c=n(504),s=n(4352),u=n(9376),d=n(9173),m=n(4747);const p=function(e){var t=(0,a.useState)({custName:{inputType:"GENERAL",status:"default",message:""},orgDomain:{inputType:"DOMAIN",status:"default",message:""},protocol:{inputType:"RADIO",status:"default",message:""}}),n=(0,r.Z)(t,2),i=n[0],c=n[1],s=function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var n=(0,m.AS)(e.rootUserChoices.current,i,c);e.rootValidation.current.CUSTINFO=!n,!n&&e.rootUserChoices.current.protocol&&e.updateStatus(e.rootUserChoices.current.protocol)};return o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Customer Information"),o().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"All fields are required"),o().createElement(l.FormGroup,{label:"Customer Name",helperText:"The name of the customer organization",helperTextInvalid:i.custName.message,validated:e.nextClicked?i.custName.status:"default",onChange:function(e){s(e)}},o().createElement(l.TextInput,{type:"text",id:"custName"})),o().createElement(l.FormGroup,{label:"Customer Domain",helperText:"the customer's organization domain",helperTextInvalid:i.orgDomain.message,validated:e.nextClicked?i.orgDomain.status:"default",onChange:function(e){s(e)}},o().createElement(l.TextInput,{type:"text",id:"orgDomain"})),o().createElement(l.FormGroup,{onChange:function(e){s(e)},role:"radiogroup",fieldid:"authType",label:"Choose identity provider protocol",helperTextInvalid:"A protocol must be selected to proceed",validated:e.nextClicked?i.protocol.status:"default",id:"protocol"},o().createElement(l.Radio,{name:"authType",id:"protocol",label:"OpenID Connect",value:"OIDCCONFIG"}),o().createElement(l.Radio,{name:"authType",id:"protocol",label:"Saml 2.0",value:"SAMLCONFIG"})))},h=function(e){var t=(0,a.useState)(),n=(0,r.Z)(t,2),i=n[0],c=n[1],s=(0,a.useState)({clientId:{inputType:"GENERAL",status:"default",message:""},clientSecret:{inputType:"GENERAL",status:"default",message:""},inputMethod:{inputType:"RADIO",status:"default",message:""}}),u=(0,r.Z)(s,2),d=u[0],p=u[1],h=function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var n=(0,m.AS)(e.rootUserChoices.current,d,p);e.rootValidation.current.OIDCCONFIG=!n,!n&&e.rootUserChoices.current.inputMethod&&e.updateStatus(e.rootUserChoices.current.inputMethod)};return o().createElement(l.Form,null,o().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"All fields are required"),o().createElement(l.FormGroup,{label:"Client ID/SP entity ID",helperText:"The client identifier for Red Hat as a client, registered within the customer identity provider. Your identity provider will generate this when Red Hat is added as a client",helperTextInvalid:d.clientId.message,validated:e.nextClicked?d.clientId.status:"",onChange:function(e){h(e)}},o().createElement(l.TextInput,{onChange:function(e){return(0,m.Xj)(e,"clientId",i,c)},type:"text",id:"clientId"})),o().createElement(l.FormGroup,{label:"Client Secret",helperText:"The client secret associated with the client identifier. Your IDP will generate this when Red Hat is added as a client",helperTextInvalid:d.clientSecret.message,validated:e.nextClicked?d.clientSecret.status:"",onChange:function(e){h(e)}},o().createElement(l.TextInput,{onChange:function(e){return(0,m.Xj)(e,"clientSecret",i,c)},type:"text",id:"clientSecret"})),o().createElement(l.FormGroup,{onChange:function(e){h(e)},label:"Load external IDP metadata from a config file or download it from a url",helperTextInvalid:"You must choose a method for importing your metadata",validated:e.nextClicked?d.inputMethod.status:""},o().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from URL",value:"IMPORTFROMURL"}),o().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from file",value:"IMPORTFROMFILE"})))},f=function(e){var t=(0,a.useState)(),n=(0,r.Z)(t,2),i=(n[0],n[1],(0,a.useState)({inputMethod:{inputType:"RADIO",status:"default",message:""}})),c=(0,r.Z)(i,2),s=c[0],u=c[1];return o().createElement(l.Form,null,o().createElement(l.FormGroup,{onChange:function(t){!function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var n=(0,m.AS)(e.rootUserChoices.current,s,u);e.rootValidation.current.SAMLCONFIG=!n,!n&&e.rootUserChoices.current.inputMethod&&e.updateStatus(e.rootUserChoices.current.inputMethod)}(t)},label:"Load external IDP metadata from a config file or download it from a url",isRequired:!0,validated:e.nextClicked?s.inputMethod.status:"",helperTextInvalid:"An input method must be chosen to proceed"},o().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from URL",value:"IMPORTSAMLFROMURL"}),o().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from file",value:"IMPORTSAMLFROMFILE"})))},E=function(e){var t=(0,a.useState)(),n=(0,r.Z)(t,2);return n[0],n[1],(0,a.useEffect)((function(){e.updateStatus("FINALSTEP")}),[]),o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Import from file"),o().createElement(l.FormGroup,{label:"File Upload",isRequired:!0},o().createElement(l.FileUpload,{id:"text-file-with-edits-allowed",type:"text",browseButtonText:"Upload"})),o().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"A JSON formatted file detailing the configuration of your IDP, minimally including the OpenID Connect Identity provider discovery URL"))},g=function(e){var t=(0,a.useState)({importURL:{inputType:"DOMAIN",status:"default",message:""}}),n=(0,r.Z)(t,2),i=n[0],c=n[1];return o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Import from URL"),o().createElement(l.FormGroup,{label:"URL",helperText:"import metadata from a remote identity provider discovery descriptor",helperTextInvalid:i.importURL.message,validated:e.nextClicked?i.importURL.status:"default",onChange:function(t){!function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var n=(0,m.AS)(e.rootUserChoices.current,i,c);e.rootValidation.current.IMPORTFROMURL=!n,n||e.updateStatus("FINALSTEP")}(t)}},o().createElement(l.TextInput,{type:"text",id:"importURL"})))},I=function(e){var t=(0,a.useState)(),n=(0,r.Z)(t,2);return n[0],n[1],(0,a.useEffect)((function(){e.updateStatus("FINALSTEP")}),[]),o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Import from file"),o().createElement(l.FormGroup,{label:"File Upload",isRequired:!0},o().createElement(l.FileUpload,{id:"text-file-with-edits-allowed",type:"text",filenamePlaceholder:"Drag and drop a file or upload one",allowEditingUploadedText:!1,browseButtonText:"Upload"})),o().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"A XML formatted file detailing the configuration of your IDP"))},v=function(e){var t=(0,a.useState)({importURL:{inputType:"DOMAIN",status:"default",message:""}}),n=(0,r.Z)(t,2),i=n[0],c=n[1];return o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Import from URL"),o().createElement(l.FormGroup,{label:"URL",helperText:"import metadata from a remote identity provider discovery descriptor",helperTextInvalid:i.importURL.message,validated:e.nextClicked?i.importURL.status:"default",onChange:function(t){!function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var n=(0,m.AS)(e.rootUserChoices.current,i,c);e.rootValidation.current.IMPORTSAMLFROMURL=!n,n||e.updateStatus("FINALSTEP")}(t)}},o().createElement(l.TextInput,{type:"text",id:"importURL"})))},S=function(e){return(0,a.useEffect)((function(){e.updateStatus("VALIDATESTEP")}),[]),o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Configure URLs"),o().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"Some Identity Provider Services require additional configuration when enabling third party single sign on. Please review the following information and verify that these are filled in where required in your company IDP."),o().createElement(l.FormGroup,{label:"Identifier (Entity ID)"},o().createElement(l.TextInput,{type:"text",id:"entityID",isDisabled:!0,value:"https://sso.redhat.com/auth/realms/redhat-external"})),o().createElement(l.FormGroup,{label:"Sign on URL"},o().createElement(l.TextInput,{type:"text",id:"signOnURL",isDisabled:!0,value:"https://sso.redhat.com/auth/realms/redhat-external/protocol/saml"})),o().createElement(l.FormGroup,{label:"Redirect URL or ACS (Assertion Consumption Service) URL"},o().createElement(l.TextInput,{type:"text",id:"redirectURL",isDisabled:!0,value:"https://sso.redhat.com/auth/realms/redhat-external/broker/"+e.redirectDomain+"/endpoint"})))},C=function(e){return(0,a.useEffect)((function(){e.updateStatus("VALIDATESTEP")}),[]),o().createElement(l.Form,null,o().createElement(l.Title,{headingLevel:"h2"},"Test your identity provider"),o().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"Test your identity provider integration before enabling it for your entire organization"),o().createElement(l.List,null,o().createElement(l.ListItem,null,"Click the button to initiate login redirect to your identity provider"),o().createElement(l.ListItem,null,"Log in with your identity provider user your company Single Sign-on credentials"),o().createElement(l.ListItem,null,"You will be redirected back to identity provider integration configuration where you can then enable it for your entire organization")),o().createElement(l.Text,null,"If you encounter any errors or are having trouble, contact",o().createElement(l.Button,{variant:"link",href:"www.google.com",target:"_blank",component:"a",isInline:!0,className:"pf-u-ml-xs"},"CustomerService")))};var T=n(8071),y=n(8614),x=n(4307);const O=function(e){var t=(0,a.useState)(!1),n=(0,r.Z)(t,2),i=n[0],c=n[1],s=(0,a.useState)(""),u=(0,r.Z)(s,2),d=u[0],m=u[1];return o().createElement("div",null,o().createElement(l.GridItem,{hidden:i},o().createElement(l.Title,{headingLevel:"h4"},e.title,o().createElement(l.Button,{variant:"link",onClick:function(){c(!0)},isInline:!0,icon:o().createElement(T.ZP,null),iconPosition:"right",className:"pf-u-ml-xs  editIcon"})),o().createElement(l.Text,{id:e.idValue+"-current"},e.current)),o().createElement(l.GridItem,{hidden:!i},o().createElement(l.Title,{headingLevel:"h4"},e.title),o().createElement(l.Flex,null,o().createElement(l.FlexItem,null,o().createElement(l.TextInput,{id:e.idValue,value:d,onChange:function(e){m(e)}})),o().createElement(l.FlexItem,null,o().createElement(l.Button,{variant:"link",onClick:function(){console.log("triggered submit value: "+d),c(!1)},isInline:!0,icon:o().createElement(y.ZP,null),iconPosition:"right",className:"pf-u-ml-xs  editIcon"})),o().createElement(l.FlexItem,null,o().createElement(l.Button,{variant:"link",onClick:function(){c(!1)},isInline:!0,icon:o().createElement(x.ZP,null),iconPosition:"right",className:"pf-u-ml-xs  editIcon"})))))};var F=n(9957);const b=function(e){var t=(0,a.useState)(!0),n=(0,r.Z)(t,2),i=(n[0],n[1],(0,a.useState)({displayName:"Test Company",clientID:"awesomesauce.com",clientSecret:"*******",logoUrl:"awesomesauce.com/logo"})),c=(0,r.Z)(i,2),s=c[0],u=(c[1],(0,a.useState)(!1)),d=(0,r.Z)(u,2),m=d[0],p=d[1],h=o().createElement(o().Fragment,null,o().createElement(l.Flex,null,o().createElement(l.FlexItem,null,o().createElement(l.Icon,{status:"warning"},o().createElement(F.ZP,null))),o().createElement(l.FlexItem,null,o().createElement(l.Title,{id:"modal-custom-header-label",headingLevel:"h1"},"Enable Identity Provider for your entire organization?"))));return o().createElement(l.Card,{className:"configuredCard",isCompact:!1},o().createElement(l.Modal,{variant:l.ModalVariant.small,isOpen:m,title:"Enable Identity Provider for your entire organization?",header:h,"aria-labelledby":"modal-custom-header-label","aria-describedby":"modal-custom-header-description",actions:[o().createElement(l.Button,{onClick:function(){console.log("Enable IDP")}},"Confirm"),o().createElement(l.Button,{variant:"link",onClick:function(){p(!1)}},"Cancel")]},"Are you sure you wish to enable Third Party SSO for your entire organization?"),o().createElement(l.Grid,{hasGutter:!0,span:12},o().createElement(l.Grid,{hasGutter:!0,span:6},o().createElement(O,{idValue:"displayName",title:"Display Name",current:s.displayName})),o().createElement(l.Grid,{hasGutter:!0,span:6},o().createElement(O,{idValue:"clientID",title:"Client ID",current:s.clientID}),o().createElement(O,{idValue:"clientSecret",title:"Client Secret",current:s.clientSecret})),o().createElement(l.Grid,{hasGutter:!0,span:6},o().createElement(O,{idValue:"logourl",title:"Logo URL",current:s.logoUrl}))),o().createElement(l.FormGroup,{className:"buttonGroup"},o().createElement(l.Button,{variant:"primary",onClick:function(){p(!0)}},"Enable"),o().createElement(l.Button,{variant:"link",onClick:function(){console.log("Delete this IDP config")}},"Delete")))};var L=n(6473);const N=function(e){return o().createElement("div",{className:"notSetupDiv"},o().createElement(L.ZP,{className:"cubesIcon"}),o().createElement(l.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-lg"},"Identity provider not setup"),o().createElement(l.Text,{className:"pf-u-mt-md"},"You haven't set up an identity provider for your organization"),o().createElement(l.Button,{className:"pf-u-mt-lg",variant:"primary",onClick:e.setupIDP},"Set up an identity provider"))};var R=n(9160),P=n(9258);const M=function(e){var t=(0,R.Qe)(),n=t.goToNextStep,r=t.goToPrevStep;return o().createElement(P.y,null,o().createElement(l.Button,{onClick:function(){e.valid?n():e.next(!0)},disabled:e.valid},"Next"),o().createElement(l.Button,{variant:"secondary",onClick:r},"Back"))};var k=n(5861),A=n(7757),U=n.n(A);const D=function(e){var t=(0,R.Qe)(),n=t.goToNextStep,a=t.goToPrevStep,i=o().useState(!1),c=(0,r.Z)(i,2),s=c[0],u=c[1],d=function(){var t=(0,k.Z)(U().mark((function t(){return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Submitting with this data: "+JSON.stringify(e.userChoiceData,null,2)),u(!0),t.next=4,new Promise((function(e){return setTimeout(e,2e3)}));case 4:u(!1),n();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o().createElement(P.y,null,o().createElement(l.Button,{onClick:d,isLoading:s},"Next"),o().createElement(l.Button,{variant:"secondary",onClick:a},"Back"))};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Z=function(e){var t=(0,a.useRef)({}),n=(0,a.useState)(!0),i=(0,r.Z)(n,2),m=i[0],T=(i[1],(0,a.useState)(!0)),y=(0,r.Z)(T,2),x=y[0],O=y[1],F=(0,a.useRef)({CUSTINFO:!1,OIDCCONFIG:!1,SAMLCONFIG:!1,IMPORTFROMFILE:!1,IMPORTFROMURL:!1,IMPORTSAMLFROMFILE:!1,IMPORTSAMLFROMURL:!1}),L=(0,a.useState)({currentState:"CUSTOMERINFORMATION",previousState:"",nextState:""}),R=(0,r.Z)(L,2),P=R[0],k=R[1],A=(0,a.useState)({hideCustomerInformation:!1,hideOIDC:!0,hideSAML:!0,hideImportFromURL:!0,hideImportFromFile:!0,hideFinish:!0,hideValidate:!0}),U=(0,r.Z)(A,2),w=U[0],Z=U[1],z=(0,a.useState)(!1),j=(0,r.Z)(z,2),V=j[0],B=j[1],H=function(e){var t;switch(e){case"OIDCCONFIG":(t=G({},w)).hideOIDC=!1,Z(t),k({currentState:e,previousState:"CUSTOMERINFORMATION",nextState:""});break;case"SAMLCONFIG":(t=G({},w)).hideSAML=!1,Z(t),k({currentState:e,previousState:"CUSTOMERINFORMATION",nextState:""});break;case"IMPORTFROMFILE":(t=G({},w)).hideImportFromFile=!1,Z(t),k({currentState:e,previousState:" OIDCCONFIG",nextState:"FINALSTEP"});break;case"IMPORTFROMURL":(t=G({},w)).hideImportFromURL=!1,Z(t),k({currentState:e,previousState:"OIDCCONFIG",nextState:"FINALSTEP"});break;case"IMPORTSAMLFROMFILE":(t=G({},w)).hideImportFromFile=!1,Z(t),k({currentState:e,previousState:"SAMLCONFIG",nextState:"FINALSTEP"});break;case"IMPORTSAMLFROMURL":(t=G({},w)).hideImportFromURL=!1,Z(t),k({currentState:e,previousState:"SAMLCONFIG",nextState:"FINALSTEP"});break;case"FINALSTEP":(t=G({},w)).hideFinish=!1,Z(t),k({currentState:e,previousState:P.currentState,nextState:"VALIDATESTEP"});break;case"VALIDATESTEP":(t=G({},w)).hideValidate=!1,Z(t),k({currentState:e,previousState:P.currentState,nextState:""});break;default:Z({hideCustomerInformation:!1,hideOIDC:!0,hideSAML:!0,hideImportFromURL:!0,hideImportFromFile:!0,hidefinish:!0})}};return o().createElement("div",{className:"flowPage"},o().createElement(u.Z,{className:"wizardHeader"},o().createElement(d.Z,{title:"Identity Provider Integration",className:"pf-u-mb-lg"}),o().createElement("p",null," Manage identity provider integration for your organization ")),o().createElement(l.Divider,null),o().createElement(l.PageSection,{className:m?"":"hiddenPage"},o().createElement(b,null)),o().createElement(l.PageSection,{className:!m&&x?"initPage":"hiddenPage"},o().createElement(N,{setupIDP:function(){O(!1)}})),o().createElement(l.PageSection,{className:m||x?"hiddenPage":""},o().createElement(c.e,{onClose:function(){console.log("close fancy window")},isProgressive:!0},o().createElement(s.H,{id:"CUSTOMERINFORMATION",name:"Customer Information",isHidden:w.hideCustomerInformation,footer:o().createElement(M,{valid:F.current.CUSTINFO,next:B})},o().createElement(p,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{id:"OIDCCONFIG",name:"OIDC Configuration",isHidden:w.hideOIDC,footer:o().createElement(M,{valid:F.current.OIDCCONFIG,next:B})},o().createElement(h,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{id:"IMPORTFROMFILE",name:"Import config from file",isHidden:!(!w.hideOIDC&&!w.hideImportFromFile)},o().createElement(E,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{id:"IMPORTFROMURL",name:"Import config from URL",isHidden:!(!w.hideOIDC&&!w.hideImportFromURL),footer:o().createElement(M,{valid:F.current.IMPORTFROMURL,next:B})},o().createElement(g,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{id:"SAMLCONFIG",name:"Saml Configuration",isHidden:w.hideSAML,footer:o().createElement(M,{valid:F.current.SAMLCONFIG,next:B})},o().createElement(f,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{name:"Import SAML from file",id:"IMPORTSAMLFROMFILE",isHidden:!(!w.hideSAML&&!w.hideImportFromFile),footer:o().createElement(M,{valid:F.current.IMPORTSAMLFROMFILE,next:B})},o().createElement(I,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{id:"IMPORTSAMLFROMURL",name:"Import SAML from URL",isHidden:!(!w.hideSAML&&!w.hideImportFromURL),footer:o().createElement(M,{valid:F.current.IMPORTSAMLFROMURL,next:B})},o().createElement(v,{updateStatus:H,nextClicked:V,resetNextClicked:B,rootValidation:F,rootUserChoices:t})),o().createElement(s.H,{id:"FINALSTEP",name:"Final Steps",isHidden:w.hideFinish,footer:o().createElement(D,{userChoiceData:t})},o().createElement(S,{updateStatus:H,redirectDomain:t.current.orgDomain})),o().createElement(s.H,{id:"VALIDATESTEP",name:"Test your identity provider",isHidden:w.hideValidate,footer:{nextButtonText:"Test identity provider integration",onNext:function(){window.open("https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/auth?response_type=code&client_id=account&redirect_uri=https%3A%2F%2Fsso.redhat.com%2Fauth%2Frealms%2Fredhat-external%2Faccount%2Flogin-redirect&state=fd315d76-0154-4eac-bfff-d23dedf3a9cf&login=true&scope=openid&kc_idp_hint="+t.current.orgDomain,"IDPTest","height="+window.outerHeight+",width="+window.outerWidth)},isNextDisabled:!1,isBackDisabled:!1}},o().createElement(C,{updateStatus:H})))))};var z=n(1279),j=n(8264),V=n(9390);n(6599);const B=function(e){var t=null,n=(0,a.useState)({adminUser:!1,selfServiceIDP:o().createElement(j.Z,null)}),i=(0,r.Z)(n,2),l=i[0],c=i[1],s=(0,V.useFlag)("iamconsole.IDPIntegration.enabled");return(0,a.useEffect)((function(){var e,n,r;null===(e=insights)||void 0===e||null===(n=e.chrome)||void 0===n||null===(r=n.appAction)||void 0===r||r.call(n,"identity-provider-integration"),insights.chrome.auth.getToken().then((function(e){t=e,(0,m.VN)(t)&&s&&c({adminUser:!0,selfServiceIDP:o().createElement(Z,null)}),s||c({adminUser:!1,selfServiceIDP:o().createElement(z.Z,null)})}))}),[]),o().createElement(o().Fragment,null,l.selfServiceIDP)}},1452:()=>{},4946:()=>{},6822:()=>{},209:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Identity-Provider-Integration.0d1bbf63e0a2005af788ef6d604cd6a3.js.map