/*! For license information please see Identity-Provider-Integration.39cd64454f15ec806109.js.LICENSE.txt */
(self.webpackChunkiam_console=self.webpackChunkiam_console||[]).push([[600],{5752:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(21527),o=r.n(n),a=r(62040),i=r(77334);const l=function(){return o().createElement("div",{className:"disabledDiv"},o().createElement(i.Ay,{className:"lockIcon"}),o().createElement(a.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-lg"},"This page is temporarily disabled or unavailable at this time"),o().createElement(a.Text,{className:"pf-u-mt-lg"},"Please check again at a another time or reach out to Red Hat customer service for additional support"))}},13960:(e,t,r)=>{"use strict";r.d(t,{SS:()=>c,X2:()=>i,Xr:()=>l});var n=r(64980);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=JSON.parse(decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")));return r&&r.is_org_admin}function l(e,t,r,n){var o={};o[t]=e,n(a(a({},r),o))}function c(e,t,r){var n=!1,o={};return Object.keys(t).forEach((function(r){var a=e&&e[r],i=t[r].inputType,l=function(e,t){if(!e)return{status:"error",message:"This field can not be left empty"};var r={},n="";switch(t){case"GENERAL":r={status:(n=/^[.@&]?[a-zA-Z0-9 ]+[ !.@&()]?[ a-zA-Z0-9!()]+/.test(e))?"default":"error",message:n?"":"This text is invalid please check for uncommonly used characters"};break;case"DOMAIN":r={status:(n=/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/g.test(e))?"default":"error",message:n?"":"This field needs to be a valid URL"};break;default:r={status:"default",message:""}}return r}(a,i);"error"===l.status&&(n=!0),o[r]={inputType:i,status:l.status,message:l.message}})),r(o),n}},30754:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ae});var n=r(80296),o=r(21527),a=r.n(o),i=r(64980),l=r(62040),c=r(70740),u=r(34697),s=r(83241),d=r(16401),m=r(13960),p=r(5556),f=r.n(p),h=function(e){var t=(0,o.useState)({custName:{inputType:"GENERAL",status:"default",message:""},protocol:{inputType:"RADIO",status:"default",message:""}}),r=(0,n.A)(t,2),i=r[0],c=r[1],u=function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var r=(0,m.SS)(e.rootUserChoices.current,i,c);e.rootValidation.current.CUSTINFO=!r,!r&&e.rootUserChoices.current.protocol&&e.updateStatus(e.rootUserChoices.current.protocol)};return a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Customer Information"),a().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"All fields are required"),a().createElement(l.FormGroup,{label:"Identity provider display name",helperText:"Enter a personalized display name for your Identity Provider (IdP). It is important to use unique names for your IdP display name, since multiple Red Hat accounts can be linked to one IdP.",helperTextInvalid:i.custName.message,validated:e.nextClicked?i.custName.status:"default",onChange:function(e){u(e)}},a().createElement(l.TextInput,{type:"text",id:"custName"})),a().createElement(l.FormGroup,{onChange:function(e){u(e)},role:"radiogroup",fieldid:"authType",label:"Choose identity provider protocol",helperTextInvalid:"A protocol must be selected to proceed",validated:e.nextClicked?i.protocol.status:"default",id:"protocol"},a().createElement(l.Radio,{name:"authType",id:"protocol",label:"OpenID Connect",value:"OIDCCONFIG"}),a().createElement(l.Radio,{name:"authType",id:"protocol",label:"Saml 2.0",value:"SAMLCONFIG"})))};h.propTypes={resetNextClicked:f().func,rootUserChoices:f().object,rootValidation:f().object,nextClicked:f().func,updateStatus:f().func};const v=h;var g=function(e){var t=(0,o.useState)(),r=(0,n.A)(t,2),i=r[0],c=r[1],u=(0,o.useState)({clientId:{inputType:"GENERAL",status:"default",message:""},clientSecret:{inputType:"GENERAL",status:"default",message:""},inputMethod:{inputType:"RADIO",status:"default",message:""}}),s=(0,n.A)(u,2),d=s[0],p=s[1],f=function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var r=(0,m.SS)(e.rootUserChoices.current,d,p);e.rootValidation.current.OIDCCONFIG=!r,!r&&e.rootUserChoices.current.inputMethod&&e.updateStatus(e.rootUserChoices.current.inputMethod)};return a().createElement(l.Form,null,a().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"All fields are required"),a().createElement(l.FormGroup,{label:"Client ID/SP entity ID",helperText:"The Red Hat client identifier registered within the customer identity provider. Your indentity provider generates this client ID when a Red Hat client is added",helperTextInvalid:d.clientId.message,validated:e.nextClicked?d.clientId.status:"",onChange:function(e){f(e)}},a().createElement(l.TextInput,{onChange:function(e){return(0,m.Xr)(e,"clientId",i,c)},type:"text",id:"clientId"})),a().createElement(l.FormGroup,{label:"Client Secret",helperText:"Enter the client secret associated with your client identifier  by your identity provider",helperTextInvalid:d.clientSecret.message,validated:e.nextClicked?d.clientSecret.status:"",onChange:function(e){f(e)}},a().createElement(l.TextInput,{onChange:function(e){return(0,m.Xr)(e,"clientSecret",i,c)},type:"text",id:"clientSecret"})),a().createElement(l.FormGroup,{onChange:function(e){f(e)},label:"Load external IDP metadata from a config file or download it from a url",helperTextInvalid:"You must choose a method for importing your metadata",validated:e.nextClicked?d.inputMethod.status:""},a().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from URL",value:"IMPORTFROMURL"}),a().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from file",value:"IMPORTFROMFILE"})))};g.propTypes={resetNextClicked:f().func,rootUserChoices:f().object,rootValidation:f().object,nextClicked:f().func,updateStatus:f().func};const y=g;var E=function(e){var t=(0,o.useState)({inputMethod:{inputType:"RADIO",status:"default",message:""}}),r=(0,n.A)(t,2),i=r[0],c=r[1];return a().createElement(l.Form,null,a().createElement(l.FormGroup,{onChange:function(t){!function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var r=(0,m.SS)(e.rootUserChoices.current,i,c);e.rootValidation.current.SAMLCONFIG=!r,!r&&e.rootUserChoices.current.inputMethod&&e.updateStatus(e.rootUserChoices.current.inputMethod)}(t)},label:"Load external IDP metadata from a config file or download it from a url",isRequired:!0,validated:e.nextClicked?i.inputMethod.status:"",helperTextInvalid:"An input method must be chosen to proceed"},a().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from URL",value:"IMPORTSAMLFROMURL"}),a().createElement(l.Radio,{name:"inputChoice",id:"inputMethod",label:"Import from file",value:"IMPORTSAMLFROMFILE"})))};E.propTypes={resetNextClicked:f().func,rootUserChoices:f().object,rootValidation:f().object,nextClicked:f().func,updateStatus:f().func};const I=E;var S=r(38805),C=r.n(S),O=function(e){var t=(0,o.useState)(""),r=(0,n.A)(t,2),i=r[0],c=r[1];return a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Import from file"),a().createElement(l.FormGroup,{label:"File Upload",isRequired:!0},a().createElement(l.FileUpload,{value:i.toString(),id:"text-file-with-edits-allowed",type:"text",onDataChange:function(t){var r;c(r=t),C().parseString(r,(function(t,r){t?console.error(t):r&&(e.updateStatus("FINALSTEP"),e.rootUserChoices.current.configFileData=r,e.rootValidation.current.IMPORTFROMFILE=!0)}))},browseButtonText:"Upload"})),a().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"An XML formatted file detailing the configuration of your IDP, minimally including the OpenID Connect Identity provider discovery URL"))};O.propTypes={rootUserChoices:f().object,rootValidation:f().object,updateStatus:f().func};const x=O;var T=function(e){var t=(0,o.useState)({importURL:{inputType:"DOMAIN",status:"default",message:""}}),r=(0,n.A)(t,2),i=r[0],c=r[1];return a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Import from URL"),a().createElement(l.FormGroup,{label:"URL",helperText:"import metadata from a remote identity provider discovery descriptor",helperTextInvalid:i.importURL.message,validated:e.nextClicked?i.importURL.status:"default",onChange:function(t){!function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var r=(0,m.SS)(e.rootUserChoices.current,i,c);e.rootValidation.current.IMPORTFROMURL=!r,r||e.updateStatus("FINALSTEP")}(t)}},a().createElement(l.TextInput,{type:"text",id:"importURL"})))};T.propTypes={resetNextClicked:f().func,rootUserChoices:f().object,rootValidation:f().object,nextClicked:f().func,updateStatus:f().func};const b=T;var L=function(e){var t=(0,o.useState)(""),r=(0,n.A)(t,2),i=r[0],c=r[1];return a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Import from file"),a().createElement(l.FormGroup,{label:"File Upload",isRequired:!0},a().createElement(l.FileUpload,{value:i.toString(),id:"text-file-with-edits-allowed",type:"text",filenamePlaceholder:"Drag and drop a file or upload one",onDataChange:function(t){var r;c(r=t),C().parseString(r,(function(t,r){t?console.error("failed to parse xml file: "+t):r&&(e.updateStatus("FINALSTEP"),e.rootUserChoices.current.configFileData=r,e.rootValidation.current.IMPORTSAMLFROMFILE=!0)}))},browseButtonText:"Upload"})),a().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"A XML formatted file detailing the configuration of your IDP"))};L.propTypes={rootUserChoices:f().object,rootValidation:f().object,updateStatus:f().func};const F=L;var R=function(e){var t=(0,o.useState)({importURL:{inputType:"DOMAIN",status:"default",message:""}}),r=(0,n.A)(t,2),i=r[0],c=r[1];return a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Import from URL"),a().createElement(l.FormGroup,{label:"URL",helperText:"import metadata from a remote identity provider discovery descriptor",helperTextInvalid:i.importURL.message,validated:e.nextClicked?i.importURL.status:"default",onChange:function(t){!function(t){e.resetNextClicked(!1),e.rootUserChoices.current[t.target.id]=t.target.value;var r=(0,m.SS)(e.rootUserChoices.current,i,c);e.rootValidation.current.IMPORTSAMLFROMURL=!r,r||e.updateStatus("FINALSTEP")}(t)}},a().createElement(l.TextInput,{type:"text",id:"importURL"})))};R.propTypes={resetNextClicked:f().func,rootUserChoices:f().object,rootValidation:f().object,nextClicked:f().func,updateStatus:f().func};const N=R;var A=function(e){return(0,o.useEffect)((function(){e.updateStatus("VALIDATESTEP")}),[]),a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Configure URLs"),a().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"Some Identity Provider Services require additional configuration when enabling third party single sign on. Please review the following information and verify that these are filled in where required in your company IDP."),a().createElement(l.FormGroup,{label:"Identifier (Entity ID)"},a().createElement(l.ClipboardCopy,{isReadOnly:!0,clickTip:"copied"},"https://sso.redhat.com/auth/realms/redhat-external")),a().createElement(l.FormGroup,{label:"Sign on URL"},a().createElement(l.ClipboardCopy,{isReadOnly:!0,clickTip:"copied"},"https://sso.redhat.com/auth/realms/redhat-external/protocol/saml")),a().createElement(l.FormGroup,{label:"Redirect URL or ACS (Assertion Consumption Service) URL"},a().createElement(l.ClipboardCopy,{isReadOnly:!0,clickTip:"copied"},"https://sso.redhat.com/auth/realms/redhat-external/broker/"+e.redirectDomain+"/endpoint")))};A.propTypes={updateStatus:f().func,redirectDomain:f().string};const P=A;var w=function(e){return(0,o.useEffect)((function(){e.updateStatus("VALIDATESTEP")}),[]),a().createElement(l.Form,null,a().createElement(l.Title,{headingLevel:"h2"},"Test your identity provider"),a().createElement(l.Text,{className:"pf-u-color-400 pf-u-font-size-sm"},"Test your identity provider integration before enabling it for your entire organization"),a().createElement(l.List,null,a().createElement(l.ListItem,null,"Click the button to initiate login redirect to your identity provider"),a().createElement(l.ListItem,null,"Log in with your identity provider user your company Single Sign-on credentials"),a().createElement(l.ListItem,null,"You will be redirected back to identity provider integration configuration where you can then enable it for your entire organization")),a().createElement(l.Text,null,"If you encounter any errors or are having trouble, contact",a().createElement(l.Button,{variant:"link",href:"www.google.com",target:"_blank",component:"a",isInline:!0,className:"pf-u-ml-xs"},"CustomerService")))};w.propTypes={updateStatus:f().func};const k=w;var M=r(10615),U=r(59779),D=r(44397),G=function(e){var t=(0,o.useState)(!1),r=(0,n.A)(t,2),i=r[0],c=r[1],u=(0,o.useState)(""),s=(0,n.A)(u,2),d=s[0],m=s[1];return a().createElement("div",null,a().createElement(l.GridItem,{hidden:i},a().createElement(l.Title,{headingLevel:"h4"},e.title,a().createElement(l.Button,{variant:"link",onClick:function(){c(!0)},isInline:!0,icon:a().createElement(M.Ay,null),iconPosition:"right",className:"pf-u-ml-xs  editIcon"})),a().createElement(l.Text,{id:e.idValue+"-current"},e.current)),a().createElement(l.GridItem,{hidden:!i},a().createElement(l.Title,{headingLevel:"h4"},e.title),a().createElement(l.Flex,null,a().createElement(l.FlexItem,null,a().createElement(l.TextInput,{id:e.idValue,value:d,onChange:function(e){m(e)}})),a().createElement(l.FlexItem,null,a().createElement(l.Button,{variant:"link",onClick:function(){console.log("triggered submit value: "+d),c(!1)},isInline:!0,icon:a().createElement(U.Ay,null),iconPosition:"right",className:"pf-u-ml-xs  editIcon"})),a().createElement(l.FlexItem,null,a().createElement(l.Button,{variant:"link",onClick:function(){c(!1)},isInline:!0,icon:a().createElement(D.Ay,null),iconPosition:"right",className:"pf-u-ml-xs  editIcon"})))))};G.propTypes={title:f().string,idValue:f().string,current:f().string};const j=G;var V=r(99851);const _=function(){var e=(0,o.useState)({displayName:"Test Company",clientID:"awesomesauce.com",clientSecret:"*******",logoUrl:"awesomesauce.com/logo"}),t=(0,n.A)(e,2),r=t[0],i=(t[1],(0,o.useState)(!1)),c=(0,n.A)(i,2),u=c[0],s=c[1],d=a().createElement(a().Fragment,null,a().createElement(l.Flex,null,a().createElement(l.FlexItem,null,a().createElement(l.Icon,{status:"warning"},a().createElement(V.Ay,null))),a().createElement(l.FlexItem,null,a().createElement(l.Title,{id:"modal-custom-header-label",headingLevel:"h1"},"Enable Identity Provider for your entire organization?"))));return a().createElement(l.Card,{className:"configuredCard",isCompact:!1},a().createElement(l.Modal,{variant:l.ModalVariant.small,isOpen:u,title:"Enable Identity Provider for your entire organization?",header:d,"aria-labelledby":"modal-custom-header-label","aria-describedby":"modal-custom-header-description",actions:[a().createElement(l.Button,{key:"confirm",onClick:function(){console.log("Enable IDP")}},"Confirm"),a().createElement(l.Button,{key:"cancel",variant:"link",onClick:function(){s(!1)}},"Cancel")]},"Are you sure you wish to enable Third Party SSO for your entire organization?"),a().createElement(l.Grid,{hasGutter:!0,span:12},a().createElement(l.Grid,{hasGutter:!0,span:6},a().createElement(j,{idValue:"displayName",title:"Display Name",current:r.displayName})),a().createElement(l.Grid,{hasGutter:!0,span:6},a().createElement(j,{idValue:"clientID",title:"Client ID",current:r.clientID}),a().createElement(j,{idValue:"clientSecret",title:"Client Secret",current:r.clientSecret})),a().createElement(l.Grid,{hasGutter:!0,span:6},a().createElement(j,{idValue:"logourl",title:"Logo URL",current:r.logoUrl}))),a().createElement(l.FormGroup,{className:"buttonGroup"},a().createElement(l.Button,{variant:"primary",onClick:function(){s(!0)}},"Enable"),a().createElement(l.Button,{variant:"link",onClick:function(){console.log("Delete this IDP config")}},"Delete")))};var z=r(3913),B=function(e){return a().createElement("div",{className:"notSetupDiv"},a().createElement(z.Ay,{className:"cubesIcon"}),a().createElement(l.Title,{headingLevel:"h2",size:"xl",className:"pf-u-mt-lg"},"Identity provider not setup"),a().createElement(l.Text,{className:"pf-u-mt-md"},"You haven't set up an identity provider for your organization"),a().createElement(l.Button,{className:"pf-u-mt-lg",variant:"primary",onClick:e.setupIDP},"Set up an identity provider"))};B.propTypes={setupIDP:f().func};const H=B;var W=r(14476),q=r(34540),X=function(e){var t=(0,W.CV)(),r=t.goToNextStep,n=t.goToPrevStep;return a().createElement(q.W,null,a().createElement(l.Button,{onClick:function(){e.valid?r():e.next(!0)},disabled:e.valid},"Next"),a().createElement(l.Button,{variant:"secondary",onClick:n},"Back"))};X.propTypes={valid:f().bool,next:f().func};const Y=X;var J=r(82284),Z=r(10467);function K(){K=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new N(n||[]);return o(i,"_invoke",{value:b(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var m="suspendedStart",p="suspendedYield",f="executing",h="completed",v={};function g(){}function y(){}function E(){}var I={};u(I,i,(function(){return this}));var S=Object.getPrototypeOf,C=S&&S(S(A([])));C&&C!==r&&n.call(C,i)&&(I=C);var O=E.prototype=g.prototype=Object.create(I);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==(0,J.A)(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function b(t,r,n){var o=m;return function(a,i){if(o===f)throw Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var c=L(l,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var u=d(t,r,n);if("normal"===u.type){if(o=n.done?h:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=h,n.method="throw",n.arg=u.arg)}}}function L(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,L(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError((0,J.A)(t)+" is not iterable")}return y.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:y,configurable:!0}),y.displayName=u(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},x(T.prototype),u(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new T(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(O),u(O,c,"Generator"),u(O,i,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;R(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}var Q=function(e){var t=(0,W.CV)(),r=t.goToNextStep,o=t.goToPrevStep,i=a().useState(!1),c=(0,n.A)(i,2),u=c[0],s=c[1],d=function(){var t=(0,Z.A)(K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Submitting with this data: "+JSON.stringify(e.userChoiceData,null,2)),s(!0),t.next=6,new Promise((function(e){return setTimeout(e,2e3)}));case 6:s(!1),r();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a().createElement(q.W,null,a().createElement(l.Button,{onClick:d,isLoading:u},"Next"),a().createElement(l.Button,{variant:"secondary",onClick:o},"Back"))};Q.propTypes={userChoiceData:f().object};const $=Q;function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const re=function(){var e=(0,o.useRef)({}),t=(0,o.useState)(!1),r=(0,n.A)(t,2),i=r[0],m=(r[1],(0,o.useState)(!0)),p=(0,n.A)(m,2),f=p[0],h=p[1],g=(0,o.useRef)({CUSTINFO:!1,OIDCCONFIG:!1,SAMLCONFIG:!1,IMPORTFROMFILE:!1,IMPORTFROMURL:!1,IMPORTSAMLFROMFILE:!1,IMPORTSAMLFROMURL:!1}),E=(0,o.useState)({currentState:"CUSTOMERINFORMATION",previousState:"",nextState:""}),S=(0,n.A)(E,2),C=S[0],O=S[1],T=(0,o.useState)({hideCustomerInformation:!1,hideOIDC:!0,hideSAML:!0,hideImportFromURL:!0,hideImportFromFile:!0,hideFinish:!0,hideValidate:!0}),L=(0,n.A)(T,2),R=L[0],A=L[1],w=(0,o.useState)(!1),M=(0,n.A)(w,2),U=M[0],D=M[1],G=function(e){var t;switch(e){case"OIDCCONFIG":(t=te({},R)).hideOIDC=!1,A(t),O({currentState:e,previousState:"CUSTOMERINFORMATION",nextState:""});break;case"SAMLCONFIG":(t=te({},R)).hideSAML=!1,A(t),O({currentState:e,previousState:"CUSTOMERINFORMATION",nextState:""});break;case"IMPORTFROMFILE":(t=te({},R)).hideImportFromFile=!1,A(t),O({currentState:e,previousState:" OIDCCONFIG",nextState:"FINALSTEP"});break;case"IMPORTFROMURL":(t=te({},R)).hideImportFromURL=!1,A(t),O({currentState:e,previousState:"OIDCCONFIG",nextState:"FINALSTEP"});break;case"IMPORTSAMLFROMFILE":(t=te({},R)).hideImportFromFile=!1,A(t),O({currentState:e,previousState:"SAMLCONFIG",nextState:"FINALSTEP"});break;case"IMPORTSAMLFROMURL":(t=te({},R)).hideImportFromURL=!1,A(t),O({currentState:e,previousState:"SAMLCONFIG",nextState:"FINALSTEP"});break;case"FINALSTEP":(t=te({},R)).hideFinish=!1,A(t),O({currentState:e,previousState:C.currentState,nextState:"VALIDATESTEP"});break;case"VALIDATESTEP":(t=te({},R)).hideValidate=!1,A(t),O({currentState:e,previousState:C.currentState,nextState:""});break;default:A({hideCustomerInformation:!1,hideOIDC:!0,hideSAML:!0,hideImportFromURL:!0,hideImportFromFile:!0,hidefinish:!0})}};return a().createElement("div",{className:"flowPage"},a().createElement(s.A,{className:"wizardHeader"},a().createElement(d.A,{title:"Identity Provider Integration",className:"pf-u-mb-lg"}),a().createElement("p",null," Manage identity provider integration for your organization ")),a().createElement(l.Divider,null),a().createElement(l.PageSection,{className:i?"":"hiddenPage"},a().createElement(_,null)),a().createElement(l.PageSection,{className:!i&&f?"initPage":"hiddenPage"},a().createElement(H,{setupIDP:function(){h(!1)}})),a().createElement(l.PageSection,{className:i||f?"hiddenPage":""},a().createElement(c.s,{onClose:function(){console.log("close fancy window")},isProgressive:!0},a().createElement(u.W,{id:"CUSTOMERINFORMATION",name:"Customer Information",isHidden:R.hideCustomerInformation,footer:a().createElement(Y,{valid:g.current.CUSTINFO,next:D})},a().createElement(v,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{id:"OIDCCONFIG",name:"OIDC Configuration",isHidden:R.hideOIDC,footer:a().createElement(Y,{valid:g.current.OIDCCONFIG,next:D})},a().createElement(y,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{id:"IMPORTFROMFILE",name:"Import config from file",isHidden:!(!R.hideOIDC&&!R.hideImportFromFile)},a().createElement(x,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{id:"IMPORTFROMURL",name:"Import config from URL",isHidden:!(!R.hideOIDC&&!R.hideImportFromURL),footer:a().createElement(Y,{valid:g.current.IMPORTFROMURL,next:D})},a().createElement(b,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{id:"SAMLCONFIG",name:"Saml Configuration",isHidden:R.hideSAML,footer:a().createElement(Y,{valid:g.current.SAMLCONFIG,next:D})},a().createElement(I,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{name:"Import SAML from file",id:"IMPORTSAMLFROMFILE",isHidden:!(!R.hideSAML&&!R.hideImportFromFile)},a().createElement(F,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{id:"IMPORTSAMLFROMURL",name:"Import SAML from URL",isHidden:!(!R.hideSAML&&!R.hideImportFromURL),footer:a().createElement(Y,{valid:g.current.IMPORTSAMLFROMURL,next:D})},a().createElement(N,{updateStatus:G,nextClicked:U,resetNextClicked:D,rootValidation:g,rootUserChoices:e})),a().createElement(u.W,{id:"FINALSTEP",name:"Final Steps",isHidden:R.hideFinish,footer:a().createElement($,{userChoiceData:e})},a().createElement(P,{updateStatus:G,redirectDomain:e.current.orgDomain})),a().createElement(u.W,{id:"VALIDATESTEP",name:"Test your identity provider",isHidden:R.hideValidate,footer:{nextButtonText:"Test identity provider integration",onNext:function(){var e="http://sso.stage.redhat.com/auth/realms/redhat-external/protocol/openid-connect/logout?redirect_uri="+encodeURIComponent("https://sso.stage.redhat.com/auth/realms/redhat-external/protocol/openid-connect/auth?response_type=code&client_id=account&redirect_uri=https%3A%2F%2Fsso.stage.redhat.com%2Fauth%2Frealms%2Fredhat-external%2Faccount%2Flogin-redirect&state=fd315d76-0154-4eac-bfff-d23dedf3a9cf&login=true&scope=openid&kc_idp_hint=customer-idp-b");window.open(e,"IDPTest","height="+window.outerHeight+",width="+window.outerWidth)},isNextDisabled:!1,isBackDisabled:!1}},a().createElement(k,{updateStatus:G})))))};var ne=r(5752),oe=r(88095);const ae=function(){var e=null,t=(0,o.useState)({adminUser:!0,selfServiceIDP:a().createElement(re,null)}),r=(0,n.A)(t,2),i=r[0],l=r[1],c=(0,oe.useFlag)("iamconsole.IDPIntegration.enabled");return(0,o.useEffect)((function(){var t,r;null===(t=insights)||void 0===t||null===(t=t.chrome)||void 0===t||null===(r=t.appAction)||void 0===r||r.call(t,"identity-provider-integration"),insights.chrome.auth.getToken().then((function(t){e=t,(0,m.X2)(e)&&c&&l({adminUser:!0,selfServiceIDP:a().createElement(re,null)}),c||l({adminUser:!1,selfServiceIDP:a().createElement(ne.A,null)})}))}),[]),a().createElement(a().Fragment,null,i.selfServiceIDP)}},21741:()=>{},30935:()=>{},97553:()=>{},21289:()=>{},15340:()=>{},79838:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Identity-Provider-Integration.2ea50f137f024eb2163981f21c635ab1.js.map